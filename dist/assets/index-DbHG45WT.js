import{G as cf,H as uf,I as df,J as Vt,K as lf,L as yf,N as hf,O as En,P as gf,Q as bf,U as pf,e as Cr,V as Oe,W as Je,X as Tn,Y as xf,Z as wf}from"./index-DIZd7oPH.js";function mf(e,t){for(var f=0;f<t.length;f++){const c=t[f];if(typeof c!="string"&&!Array.isArray(c)){for(const u in c)if(u!=="default"&&!(u in e)){const s=Object.getOwnPropertyDescriptor(c,u);s&&Object.defineProperty(e,u,s.get?s:{enumerable:!0,get:()=>c[u]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}var Sn={},hr={},qr={},Gr={},Zr={};const vf=cf(uf);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.secp256k1=void 0;var t=vf;Object.defineProperty(e,"secp256k1",{enumerable:!0,get:function(){return t.secp256k1}})})(Zr);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.MAX_WITHDRAWALS_PER_PAYLOAD=e.RLP_EMPTY_STRING=e.KECCAK256_RLP=e.KECCAK256_RLP_S=e.KECCAK256_RLP_ARRAY=e.KECCAK256_RLP_ARRAY_S=e.KECCAK256_NULL=e.KECCAK256_NULL_S=e.TWO_POW256=e.SECP256K1_ORDER_DIV_2=e.SECP256K1_ORDER=e.MAX_INTEGER_BIGINT=e.MAX_INTEGER=e.MAX_UINT64=void 0;const t=df,f=Zr;e.MAX_UINT64=BigInt("0xffffffffffffffff"),e.MAX_INTEGER=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),e.MAX_INTEGER_BIGINT=BigInt("115792089237316195423570985008687907853269984665640564039457584007913129639935"),e.SECP256K1_ORDER=f.secp256k1.CURVE.n,e.SECP256K1_ORDER_DIV_2=f.secp256k1.CURVE.n/BigInt(2),e.TWO_POW256=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000"),e.KECCAK256_NULL_S="c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",e.KECCAK256_NULL=t.Buffer.from(e.KECCAK256_NULL_S,"hex"),e.KECCAK256_RLP_ARRAY_S="1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347",e.KECCAK256_RLP_ARRAY=t.Buffer.from(e.KECCAK256_RLP_ARRAY_S,"hex"),e.KECCAK256_RLP_S="56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421",e.KECCAK256_RLP=t.Buffer.from(e.KECCAK256_RLP_S,"hex"),e.RLP_EMPTY_STRING=t.Buffer.from([128]),e.MAX_WITHDRAWALS_PER_PAYLOAD=16})(Gr);var Jr={};Object.defineProperty(Jr,"__esModule",{value:!0});Jr.GWEI_TO_WEI=void 0;Jr.GWEI_TO_WEI=BigInt(1e9);var Kt={},or={};Object.defineProperty(or,"__esModule",{value:!0});or.RLP=or.utils=or.decode=or.encode=void 0;function zt(e){if(Array.isArray(e)){const f=[];let c=0;for(let u=0;u<e.length;u++){const s=zt(e[u]);f.push(s),c+=s.length}return Ct(rn(c,192),...f)}const t=Mn(e);return t.length===1&&t[0]<128?t:Ct(rn(t.length,128),t)}or.encode=zt;function Tr(e,t,f){if(f>e.length)throw new Error("invalid RLP (safeSlice): end slice of Uint8Array out-of-bounds");return e.slice(t,f)}function en(e){if(e[0]===0)throw new Error("invalid RLP: extra zeros");return On(In(e))}function rn(e,t){if(e<56)return Uint8Array.from([e+t]);const f=Nt(e),c=f.length/2,u=Nt(t+55+c);return Uint8Array.from(Wr(u+f))}function Pn(e,t=!1){if(typeof e>"u"||e===null||e.length===0)return Uint8Array.from([]);const f=Mn(e),c=Rt(f);if(t)return c;if(c.remainder.length!==0)throw new Error("invalid RLP: remainder must be zero");return c.data}or.decode=Pn;function Rt(e){let t,f,c,u,s;const h=[],l=e[0];if(l<=127)return{data:e.slice(0,1),remainder:e.slice(1)};if(l<=183){if(t=l-127,l===128?c=Uint8Array.from([]):c=Tr(e,1,t),t===2&&c[0]<128)throw new Error("invalid RLP encoding: invalid prefix, single byte < 0x80 are not prefixed");return{data:c,remainder:e.slice(t)}}else if(l<=191){if(f=l-182,e.length-1<f)throw new Error("invalid RLP: not enough bytes for string length");if(t=en(Tr(e,1,f)),t<=55)throw new Error("invalid RLP: expected string length to be greater than 55");return c=Tr(e,f,t+f),{data:c,remainder:e.slice(t+f)}}else if(l<=247){for(t=l-191,u=Tr(e,1,t);u.length;)s=Rt(u),h.push(s.data),u=s.remainder;return{data:h,remainder:e.slice(t)}}else{if(f=l-246,t=en(Tr(e,1,f)),t<56)throw new Error("invalid RLP: encoded list too short");const g=f+t;if(g>e.length)throw new Error("invalid RLP: total length is larger than the data");for(u=Tr(e,f,g);u.length;)s=Rt(u),h.push(s.data),u=s.remainder;return{data:h,remainder:e.slice(g)}}}const Bf=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function In(e){let t="";for(let f=0;f<e.length;f++)t+=Bf[e[f]];return t}function On(e){const t=Number.parseInt(e,16);if(Number.isNaN(t))throw new Error("Invalid byte sequence");return t}function Wr(e){if(typeof e!="string")throw new TypeError("hexToBytes: expected string, got "+typeof e);if(e.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const t=new Uint8Array(e.length/2);for(let f=0;f<t.length;f++){const c=f*2;t[f]=On(e.slice(c,c+2))}return t}function Ct(...e){if(e.length===1)return e[0];const t=e.reduce((c,u)=>c+u.length,0),f=new Uint8Array(t);for(let c=0,u=0;c<e.length;c++){const s=e[c];f.set(s,u),u+=s.length}return f}function jn(e){return new TextEncoder().encode(e)}function Nt(e){if(e<0)throw new Error("Invalid integer as argument, must be unsigned!");const t=e.toString(16);return t.length%2?`0${t}`:t}function _f(e){return e.length%2?`0${e}`:e}function Ln(e){return e.length>=2&&e[0]==="0"&&e[1]==="x"}function Af(e){return typeof e!="string"?e:Ln(e)?e.slice(2):e}function Mn(e){if(e instanceof Uint8Array)return e;if(typeof e=="string")return Ln(e)?Wr(_f(Af(e))):jn(e);if(typeof e=="number"||typeof e=="bigint")return e?Wr(Nt(e)):Uint8Array.from([]);if(e==null)return Uint8Array.from([]);throw new Error("toBytes: received unsupported type "+typeof e)}or.utils={bytesToHex:In,concatBytes:Ct,hexToBytes:Wr,utf8ToBytes:jn};or.RLP={encode:zt,decode:Pn};var mr={},tr={},Me={};Object.defineProperty(Me,"__esModule",{value:!0});Me.isHexString=Me.getKeys=Me.fromAscii=Me.fromUtf8=Me.toAscii=Me.arrayContainsArray=Me.getBinarySize=Me.padToEven=Me.stripHexPrefix=Me.isHexPrefixed=void 0;function Un(e){if(typeof e!="string")throw new Error(`[isHexPrefixed] input must be type 'string', received type ${typeof e}`);return e[0]==="0"&&e[1]==="x"}Me.isHexPrefixed=Un;const Ef=e=>{if(typeof e!="string")throw new Error(`[stripHexPrefix] input must be type 'string', received ${typeof e}`);return Un(e)?e.slice(2):e};Me.stripHexPrefix=Ef;function Rn(e){let t=e;if(typeof t!="string")throw new Error(`[padToEven] value must be type 'string', received ${typeof t}`);return t.length%2&&(t=`0${t}`),t}Me.padToEven=Rn;function Tf(e){if(typeof e!="string")throw new Error(`[getBinarySize] method requires input type 'string', received ${typeof e}`);return Buffer.byteLength(e,"utf8")}Me.getBinarySize=Tf;function Sf(e,t,f){if(Array.isArray(e)!==!0)throw new Error(`[arrayContainsArray] method requires input 'superset' to be an array, got type '${typeof e}'`);if(Array.isArray(t)!==!0)throw new Error(`[arrayContainsArray] method requires input 'subset' to be an array, got type '${typeof t}'`);return t[f===!0?"some":"every"](c=>e.indexOf(c)>=0)}Me.arrayContainsArray=Sf;function Pf(e){let t="",f=0;const c=e.length;for(e.substring(0,2)==="0x"&&(f=2);f<c;f+=2){const u=parseInt(e.substr(f,2),16);t+=String.fromCharCode(u)}return t}Me.toAscii=Pf;function If(e){const t=Buffer.from(e,"utf8");return`0x${Rn(t.toString("hex")).replace(/^0+|0+$/g,"")}`}Me.fromUtf8=If;function Of(e){let t="";for(let f=0;f<e.length;f++){const u=e.charCodeAt(f).toString(16);t+=u.length<2?`0${u}`:u}return`0x${t}`}Me.fromAscii=Of;function jf(e,t,f){if(!Array.isArray(e))throw new Error(`[getKeys] method expects input 'params' to be an array, got ${typeof e}`);if(typeof t!="string")throw new Error(`[getKeys] method expects input 'key' to be type 'string', got ${typeof e}`);const c=[];for(let u=0;u<e.length;u++){let s=e[u][t];if(f===!0&&!s)s="";else if(typeof s!="string")throw new Error(`invalid abi - expected type 'string', received ${typeof s}`);c.push(s)}return c}Me.getKeys=jf;function Lf(e,t){return!(typeof e!="string"||!e.match(/^0x[0-9A-Fa-f]*$/)||typeof t<"u"&&t>0&&e.length!==2+2*t)}Me.isHexString=Lf;Object.defineProperty(tr,"__esModule",{value:!0});tr.assertIsString=tr.assertIsArray=tr.assertIsBuffer=tr.assertIsHexString=void 0;const Mf=Me,Uf=function(e){if(!(0,Mf.isHexString)(e)){const t=`This method only supports 0x-prefixed hex strings but input was: ${e}`;throw new Error(t)}};tr.assertIsHexString=Uf;const Rf=function(e){if(!Buffer.isBuffer(e)){const t=`This method only supports Buffer but input was: ${e}`;throw new Error(t)}};tr.assertIsBuffer=Rf;const Cf=function(e){if(!Array.isArray(e)){const t=`This method only supports number arrays but input was: ${e}`;throw new Error(t)}};tr.assertIsArray=Cf;const Nf=function(e){if(typeof e!="string"){const t=`This method only supports strings but input was: ${e}`;throw new Error(t)}};tr.assertIsString=Nf;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.intToUnpaddedBuffer=e.bigIntToUnpaddedBuffer=e.bigIntToHex=e.bufArrToArr=e.arrToBufArr=e.validateNoLeadingZeroes=e.baToJSON=e.toUtf8=e.short=e.addHexPrefix=e.toUnsigned=e.fromSigned=e.bufferToInt=e.bigIntToBuffer=e.bufferToBigInt=e.bufferToHex=e.toBuffer=e.unpadHexString=e.unpadArray=e.unpadBuffer=e.setLengthRight=e.setLengthLeft=e.zeros=e.intToBuffer=e.intToHex=void 0;const t=tr,f=Me,c=function(y){if(!Number.isSafeInteger(y)||y<0)throw new Error(`Received an invalid integer type: ${y}`);return`0x${y.toString(16)}`};e.intToHex=c;const u=function(y){const v=(0,e.intToHex)(y);return Buffer.from((0,f.padToEven)(v.slice(2)),"hex")};e.intToBuffer=u;const s=function(y){return Buffer.allocUnsafe(y).fill(0)};e.zeros=s;const h=function(y,v,$){const le=(0,e.zeros)(v);return $?y.length<v?(y.copy(le),le):y.slice(0,v):y.length<v?(y.copy(le,v-y.length),le):y.slice(-v)},l=function(y,v){return(0,t.assertIsBuffer)(y),h(y,v,!1)};e.setLengthLeft=l;const g=function(y,v){return(0,t.assertIsBuffer)(y),h(y,v,!0)};e.setLengthRight=g;const w=function(y){let v=y[0];for(;y.length>0&&v.toString()==="0";)y=y.slice(1),v=y[0];return y},L=function(y){return(0,t.assertIsBuffer)(y),w(y)};e.unpadBuffer=L;const S=function(y){return(0,t.assertIsArray)(y),w(y)};e.unpadArray=S;const R=function(y){return(0,t.assertIsHexString)(y),y=(0,f.stripHexPrefix)(y),"0x"+w(y)};e.unpadHexString=R;const N=function(y){if(y==null)return Buffer.allocUnsafe(0);if(Buffer.isBuffer(y)||Array.isArray(y)||y instanceof Uint8Array)return Buffer.from(y);if(typeof y=="string"){if(!(0,f.isHexString)(y))throw new Error(`Cannot convert string to buffer. toBuffer only supports 0x-prefixed hex strings and this string was given: ${y}`);return Buffer.from((0,f.padToEven)((0,f.stripHexPrefix)(y)),"hex")}if(typeof y=="number")return(0,e.intToBuffer)(y);if(typeof y=="bigint"){if(y<BigInt(0))throw new Error(`Cannot convert negative bigint to buffer. Given: ${y}`);let v=y.toString(16);return v.length%2&&(v="0"+v),Buffer.from(v,"hex")}if(y.toArray)return Buffer.from(y.toArray());if(y.toBuffer)return Buffer.from(y.toBuffer());throw new Error("invalid type")};e.toBuffer=N;const X=function(y){return y=(0,e.toBuffer)(y),"0x"+y.toString("hex")};e.bufferToHex=X;function J(y){const v=(0,e.bufferToHex)(y);return BigInt(v==="0x"?0:v)}e.bufferToBigInt=J;function V(y){return(0,e.toBuffer)("0x"+y.toString(16))}e.bigIntToBuffer=V;const q=function(y){const v=Number(J(y));if(!Number.isSafeInteger(v))throw new Error("Number exceeds 53 bits");return v};e.bufferToInt=q;const ne=function(y){return BigInt.asIntN(256,J(y))};e.fromSigned=ne;const G=function(y){return V(BigInt.asUintN(256,y))};e.toUnsigned=G;const ee=function(y){return typeof y!="string"||(0,f.isHexPrefixed)(y)?y:"0x"+y};e.addHexPrefix=ee;function we(y,v=50){const $=Buffer.isBuffer(y)?y.toString("hex"):y;return $.length<=v?$:$.slice(0,v)+"…"}e.short=we;const Se=function(y){const v=/^(00)+|(00)+$/g;if(y=(0,f.stripHexPrefix)(y),y.length%2!==0)throw new Error("Invalid non-even hex string input for toUtf8() provided");return Buffer.from(y.replace(v,""),"hex").toString("utf8")};e.toUtf8=Se;const Ye=function(y){if(Buffer.isBuffer(y))return`0x${y.toString("hex")}`;if(y instanceof Array){const v=[];for(let $=0;$<y.length;$++)v.push((0,e.baToJSON)(y[$]));return v}};e.baToJSON=Ye;const Le=function(y){for(const[v,$]of Object.entries(y))if($!==void 0&&$.length>0&&$[0]===0)throw new Error(`${v} cannot have leading zeroes, received: ${$.toString("hex")}`)};e.validateNoLeadingZeroes=Le;function Ce(y){return Array.isArray(y)?y.map(v=>Ce(v)):Buffer.from(y)}e.arrToBufArr=Ce;function Ue(y){return Array.isArray(y)?y.map(v=>Ue(v)):Uint8Array.from(y??[])}e.bufArrToArr=Ue;const Ke=y=>"0x"+y.toString(16);e.bigIntToHex=Ke;function x(y){return(0,e.unpadBuffer)(V(y))}e.bigIntToUnpaddedBuffer=x;function A(y){return(0,e.unpadBuffer)((0,e.intToBuffer)(y))}e.intToUnpaddedBuffer=A})(mr);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.accountBodyToRLP=e.accountBodyToSlim=e.accountBodyFromSlim=e.isZeroAddress=e.zeroAddress=e.importPublic=e.privateToAddress=e.privateToPublic=e.publicToAddress=e.pubToAddress=e.isValidPublic=e.isValidPrivate=e.generateAddress2=e.generateAddress=e.isValidChecksumAddress=e.toChecksumAddress=e.isValidAddress=e.Account=void 0;const t=or,f=Vt,c=Zr,u=lf,s=mr,h=Gr,l=tr,g=Me,w=BigInt(0);class L{constructor(A=w,y=w,v=h.KECCAK256_RLP,$=h.KECCAK256_NULL){this.nonce=A,this.balance=y,this.storageRoot=v,this.codeHash=$,this._validate()}static fromAccountData(A){const{nonce:y,balance:v,storageRoot:$,codeHash:le}=A;return new L(y!==void 0?(0,s.bufferToBigInt)((0,s.toBuffer)(y)):void 0,v!==void 0?(0,s.bufferToBigInt)((0,s.toBuffer)(v)):void 0,$!==void 0?(0,s.toBuffer)($):void 0,le!==void 0?(0,s.toBuffer)(le):void 0)}static fromRlpSerializedAccount(A){const y=(0,s.arrToBufArr)(t.RLP.decode(Uint8Array.from(A)));if(!Array.isArray(y))throw new Error("Invalid serialized account input. Must be array");return this.fromValuesArray(y)}static fromValuesArray(A){const[y,v,$,le]=A;return new L((0,s.bufferToBigInt)(y),(0,s.bufferToBigInt)(v),$,le)}_validate(){if(this.nonce<w)throw new Error("nonce must be greater than zero");if(this.balance<w)throw new Error("balance must be greater than zero");if(this.storageRoot.length!==32)throw new Error("storageRoot must have a length of 32");if(this.codeHash.length!==32)throw new Error("codeHash must have a length of 32")}raw(){return[(0,s.bigIntToUnpaddedBuffer)(this.nonce),(0,s.bigIntToUnpaddedBuffer)(this.balance),this.storageRoot,this.codeHash]}serialize(){return Buffer.from(t.RLP.encode((0,s.bufArrToArr)(this.raw())))}isContract(){return!this.codeHash.equals(h.KECCAK256_NULL)}isEmpty(){return this.balance===w&&this.nonce===w&&this.codeHash.equals(h.KECCAK256_NULL)}}e.Account=L;const S=function(x){try{(0,l.assertIsString)(x)}catch{return!1}return/^0x[0-9a-fA-F]{40}$/.test(x)};e.isValidAddress=S;const R=function(x,A){(0,l.assertIsHexString)(x);const y=(0,g.stripHexPrefix)(x).toLowerCase();let v="";A!==void 0&&(v=(0,s.bufferToBigInt)((0,s.toBuffer)(A)).toString()+"0x");const $=Buffer.from(v+y,"utf8"),le=(0,u.bytesToHex)((0,f.keccak256)($));let ye="0x";for(let me=0;me<y.length;me++)parseInt(le[me],16)>=8?ye+=y[me].toUpperCase():ye+=y[me];return ye};e.toChecksumAddress=R;const N=function(x,A){return(0,e.isValidAddress)(x)&&(0,e.toChecksumAddress)(x,A)===x};e.isValidChecksumAddress=N;const X=function(x,A){return(0,l.assertIsBuffer)(x),(0,l.assertIsBuffer)(A),(0,s.bufferToBigInt)(A)===BigInt(0)?Buffer.from((0,f.keccak256)(t.RLP.encode((0,s.bufArrToArr)([x,null])))).slice(-20):Buffer.from((0,f.keccak256)(t.RLP.encode((0,s.bufArrToArr)([x,A])))).slice(-20)};e.generateAddress=X;const J=function(x,A,y){if((0,l.assertIsBuffer)(x),(0,l.assertIsBuffer)(A),(0,l.assertIsBuffer)(y),x.length!==20)throw new Error("Expected from to be of length 20");if(A.length!==32)throw new Error("Expected salt to be of length 32");const v=(0,f.keccak256)(Buffer.concat([Buffer.from("ff","hex"),x,A,(0,f.keccak256)(y)]));return(0,s.toBuffer)(v).slice(-20)};e.generateAddress2=J;const V=function(x){return c.secp256k1.utils.isValidPrivateKey(x)};e.isValidPrivate=V;const q=function(x,A=!1){if((0,l.assertIsBuffer)(x),x.length===64)try{return c.secp256k1.ProjectivePoint.fromHex(Buffer.concat([Buffer.from([4]),x])),!0}catch{return!1}if(!A)return!1;try{return c.secp256k1.ProjectivePoint.fromHex(x),!0}catch{return!1}};e.isValidPublic=q;const ne=function(x,A=!1){if((0,l.assertIsBuffer)(x),A&&x.length!==64&&(x=Buffer.from(c.secp256k1.ProjectivePoint.fromHex(x).toRawBytes(!1).slice(1))),x.length!==64)throw new Error("Expected pubKey to be of length 64");return Buffer.from((0,f.keccak256)(x)).slice(-20)};e.pubToAddress=ne,e.publicToAddress=e.pubToAddress;const G=function(x){return(0,l.assertIsBuffer)(x),Buffer.from(c.secp256k1.ProjectivePoint.fromPrivateKey(x).toRawBytes(!1).slice(1))};e.privateToPublic=G;const ee=function(x){return(0,e.publicToAddress)((0,e.privateToPublic)(x))};e.privateToAddress=ee;const we=function(x){return(0,l.assertIsBuffer)(x),x.length!==64&&(x=Buffer.from(c.secp256k1.ProjectivePoint.fromHex(x).toRawBytes(!1).slice(1))),x};e.importPublic=we;const Se=function(){const A=(0,s.zeros)(20);return(0,s.bufferToHex)(A)};e.zeroAddress=Se;const Ye=function(x){try{(0,l.assertIsString)(x)}catch{return!1}return(0,e.zeroAddress)()===x};e.isZeroAddress=Ye;function Le(x){const[A,y,v,$]=x;return[A,y,(0,s.arrToBufArr)(v).length===0?h.KECCAK256_RLP:v,(0,s.arrToBufArr)($).length===0?h.KECCAK256_NULL:$]}e.accountBodyFromSlim=Le;const Ce=new Uint8Array(0);function Ue(x){const[A,y,v,$]=x;return[A,y,(0,s.arrToBufArr)(v).equals(h.KECCAK256_RLP)?Ce:v,(0,s.arrToBufArr)($).equals(h.KECCAK256_NULL)?Ce:$]}e.accountBodyToSlim=Ue;function Ke(x,A=!0){const y=A?Le(x):x;return(0,s.arrToBufArr)(t.RLP.encode(y))}e.accountBodyToRLP=Ke})(Kt);var $r={};Object.defineProperty($r,"__esModule",{value:!0});$r.Address=void 0;const Ur=Kt,kr=mr;class dr{constructor(t){if(t.length!==20)throw new Error("Invalid address length");this.buf=t}static zero(){return new dr((0,kr.zeros)(20))}static fromString(t){if(!(0,Ur.isValidAddress)(t))throw new Error("Invalid address");return new dr((0,kr.toBuffer)(t))}static fromPublicKey(t){if(!Buffer.isBuffer(t))throw new Error("Public key should be Buffer");const f=(0,Ur.pubToAddress)(t);return new dr(f)}static fromPrivateKey(t){if(!Buffer.isBuffer(t))throw new Error("Private key should be Buffer");const f=(0,Ur.privateToAddress)(t);return new dr(f)}static generate(t,f){if(typeof f!="bigint")throw new Error("Expected nonce to be a bigint");return new dr((0,Ur.generateAddress)(t.buf,(0,kr.bigIntToBuffer)(f)))}static generate2(t,f,c){if(!Buffer.isBuffer(f))throw new Error("Expected salt to be a Buffer");if(!Buffer.isBuffer(c))throw new Error("Expected initCode to be a Buffer");return new dr((0,Ur.generateAddress2)(t.buf,f,c))}equals(t){return this.buf.equals(t.buf)}isZero(){return this.equals(dr.zero())}isPrecompileOrSystemAddress(){const t=(0,kr.bufferToBigInt)(this.buf),f=BigInt(0),c=BigInt("0xffff");return t>=f&&t<=c}toString(){return"0x"+this.buf.toString("hex")}toBuffer(){return Buffer.from(this.buf)}}$r.Address=dr;var Xr={},Ft={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.toType=e.TypeOutput=void 0;const t=mr,f=Me;var c;(function(s){s[s.Number=0]="Number",s[s.BigInt=1]="BigInt",s[s.Buffer=2]="Buffer",s[s.PrefixedHexString=3]="PrefixedHexString"})(c=e.TypeOutput||(e.TypeOutput={}));function u(s,h){if(s===null)return null;if(s===void 0)return;if(typeof s=="string"&&!(0,f.isHexString)(s))throw new Error(`A string must be provided with a 0x-prefix, given: ${s}`);if(typeof s=="number"&&!Number.isSafeInteger(s))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative input type)");const l=(0,t.toBuffer)(s);switch(h){case c.Buffer:return l;case c.BigInt:return(0,t.bufferToBigInt)(l);case c.Number:{const g=(0,t.bufferToBigInt)(l);if(g>BigInt(Number.MAX_SAFE_INTEGER))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative output type)");return Number(g)}case c.PrefixedHexString:return(0,t.bufferToHex)(l);default:throw new Error("unknown outputType")}}e.toType=u})(Ft);Object.defineProperty(Xr,"__esModule",{value:!0});Xr.Withdrawal=void 0;const tn=$r,pt=mr,De=Ft;class Nr{constructor(t,f,c,u){this.index=t,this.validatorIndex=f,this.address=c,this.amount=u}static fromWithdrawalData(t){const{index:f,validatorIndex:c,address:u,amount:s}=t,h=(0,De.toType)(f,De.TypeOutput.BigInt),l=(0,De.toType)(c,De.TypeOutput.BigInt),g=new tn.Address((0,De.toType)(u,De.TypeOutput.Buffer)),w=(0,De.toType)(s,De.TypeOutput.BigInt);return new Nr(h,l,g,w)}static fromValuesArray(t){if(t.length!==4)throw Error(`Invalid withdrawalArray length expected=4 actual=${t.length}`);const[f,c,u,s]=t;return Nr.fromWithdrawalData({index:f,validatorIndex:c,address:u,amount:s})}static toBufferArray(t){const{index:f,validatorIndex:c,address:u,amount:s}=t,h=(0,De.toType)(f,De.TypeOutput.BigInt)===BigInt(0)?Buffer.alloc(0):(0,De.toType)(f,De.TypeOutput.Buffer),l=(0,De.toType)(c,De.TypeOutput.BigInt)===BigInt(0)?Buffer.alloc(0):(0,De.toType)(c,De.TypeOutput.Buffer);let g;u instanceof tn.Address?g=u.buf:g=(0,De.toType)(u,De.TypeOutput.Buffer);const w=(0,De.toType)(s,De.TypeOutput.BigInt)===BigInt(0)?Buffer.alloc(0):(0,De.toType)(s,De.TypeOutput.Buffer);return[h,l,g,w]}raw(){return Nr.toBufferArray(this)}toValue(){return{index:this.index,validatorIndex:this.validatorIndex,address:this.address.buf,amount:this.amount}}toJSON(){return{index:(0,pt.bigIntToHex)(this.index),validatorIndex:(0,pt.bigIntToHex)(this.validatorIndex),address:"0x"+this.address.buf.toString("hex"),amount:(0,pt.bigIntToHex)(this.amount)}}}Xr.Withdrawal=Nr;var Ze={};Object.defineProperty(Ze,"__esModule",{value:!0});Ze.hashPersonalMessage=Ze.isValidSignature=Ze.fromRpcSig=Ze.toCompactSig=Ze.toRpcSig=Ze.ecrecover=Ze.ecsign=void 0;const $f=Vt,Cn=Zr,Qe=mr,xt=Gr,Hf=tr;function Df(e,t,f){const c=Cn.secp256k1.sign(e,t),u=c.toCompactRawBytes(),s=Buffer.from(u.slice(0,32)),h=Buffer.from(u.slice(32,64)),l=f===void 0?BigInt(c.recovery+27):BigInt(c.recovery+35)+BigInt(f)*BigInt(2);return{r:s,s:h,v:l}}Ze.ecsign=Df;function Qr(e,t){return e===BigInt(0)||e===BigInt(1)?e:t===void 0?e-BigInt(27):e-(t*BigInt(2)+BigInt(35))}function et(e){return e===BigInt(0)||e===BigInt(1)}const Vf=function(e,t,f,c,u){const s=Buffer.concat([(0,Qe.setLengthLeft)(f,32),(0,Qe.setLengthLeft)(c,32)],64),h=Qr(t,u);if(!et(h))throw new Error("Invalid signature v value");const g=Cn.secp256k1.Signature.fromCompact(s).addRecoveryBit(Number(h)).recoverPublicKey(e);return Buffer.from(g.toRawBytes(!1).slice(1))};Ze.ecrecover=Vf;const Kf=function(e,t,f,c){const u=Qr(e,c);if(!et(u))throw new Error("Invalid signature v value");return(0,Qe.bufferToHex)(Buffer.concat([(0,Qe.setLengthLeft)(t,32),(0,Qe.setLengthLeft)(f,32),(0,Qe.toBuffer)(e)]))};Ze.toRpcSig=Kf;const zf=function(e,t,f,c){const u=Qr(e,c);if(!et(u))throw new Error("Invalid signature v value");let s=f;return(e>BigInt(28)&&e%BigInt(2)===BigInt(1)||e===BigInt(1)||e===BigInt(28))&&(s=Buffer.from(f),s[0]|=128),(0,Qe.bufferToHex)(Buffer.concat([(0,Qe.setLengthLeft)(t,32),(0,Qe.setLengthLeft)(s,32)]))};Ze.toCompactSig=zf;const Ff=function(e){const t=(0,Qe.toBuffer)(e);let f,c,u;if(t.length>=65)f=t.slice(0,32),c=t.slice(32,64),u=(0,Qe.bufferToBigInt)(t.slice(64));else if(t.length===64)f=t.slice(0,32),c=t.slice(32,64),u=BigInt((0,Qe.bufferToInt)(t.slice(32,33))>>7),c[0]&=127;else throw new Error("Invalid signature length");return u<27&&(u=u+BigInt(27)),{v:u,r:f,s:c}};Ze.fromRpcSig=Ff;const Yf=function(e,t,f,c=!0,u){if(t.length!==32||f.length!==32||!et(Qr(e,u)))return!1;const s=(0,Qe.bufferToBigInt)(t),h=(0,Qe.bufferToBigInt)(f);return!(s===BigInt(0)||s>=xt.SECP256K1_ORDER||h===BigInt(0)||h>=xt.SECP256K1_ORDER||c&&h>=xt.SECP256K1_ORDER_DIV_2)};Ze.isValidSignature=Yf;const kf=function(e){(0,Hf.assertIsBuffer)(e);const t=Buffer.from(`Ethereum Signed Message:
${e.length}`,"utf-8");return Buffer.from((0,$f.keccak256)(Buffer.concat([t,e])))};Ze.hashPersonalMessage=kf;var Nn={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.compactBytesToNibbles=e.bytesToNibbles=e.nibblesToCompactBytes=e.nibblesToBytes=e.hasTerminator=void 0;const t=h=>h.length>0&&h[h.length-1]===16;e.hasTerminator=t;const f=(h,l)=>{for(let g=0,w=0;w<h.length;g+=1,w+=2)l[g]=h[w]<<4|h[w+1]};e.nibblesToBytes=f;const c=h=>{let l=0;(0,e.hasTerminator)(h)&&(l=1,h=h.subarray(0,h.length-1));const g=new Uint8Array(h.length/2+1);return g[0]=l<<5,(h.length&1)===1&&(g[0]|=16,g[0]|=h[0],h=h.subarray(1)),(0,e.nibblesToBytes)(h,g.subarray(1)),g};e.nibblesToCompactBytes=c;const u=h=>{const l=h.length*2+1,g=new Uint8Array(l);for(let w=0;w<h.length;w++){const L=h[w];g[w*2]=L/16,g[w*2+1]=L%16}return g[l-1]=16,g};e.bytesToNibbles=u;const s=h=>{if(h.length===0)return h;let l=(0,e.bytesToNibbles)(h);l[0]<2&&(l=l.subarray(0,l.length-1));const g=2-(l[0]&1);return l.subarray(g)};e.compactBytesToNibbles=s})(Nn);var rt={};Object.defineProperty(rt,"__esModule",{value:!0});rt.AsyncEventEmitter=void 0;const Wf=yf;async function qf(e,t,f){let c;for await(const u of t)try{u.length<2?u.call(e,f):await new Promise((s,h)=>{u.call(e,f,l=>{l?h(l):s()})})}catch(s){c=s}if(c)throw c}class Gf extends Wf.EventEmitter{emit(t,...f){let[c,u]=f;const s=this;let h=s._events[t]??[];return u===void 0&&typeof c=="function"&&(u=c,c=void 0),(t==="newListener"||t==="removeListener")&&(c={event:c,fn:u},u=void 0),h=Array.isArray(h)?h:[h],qf(s,h.slice(),c).then(u).catch(u),s.listenerCount(t)>0}once(t,f){const c=this;let u;if(typeof f!="function")throw new TypeError("listener must be a function");return f.length>=2?u=function(s,h){c.removeListener(t,u),f(s,h)}:u=function(s){c.removeListener(t,u),f(s,u)},c.on(t,u),c}first(t,f){let c=this._events[t]??[];if(typeof f!="function")throw new TypeError("listener must be a function");return Array.isArray(c)||(this._events[t]=c=[c]),c.unshift(f),this}before(t,f,c){return this.beforeOrAfter(t,f,c)}after(t,f,c){return this.beforeOrAfter(t,f,c,"after")}beforeOrAfter(t,f,c,u){let s=this._events[t]??[],h,l;const g=u==="after"?1:0;if(typeof c!="function")throw new TypeError("listener must be a function");if(typeof f!="function")throw new TypeError("target must be a function");for(Array.isArray(s)||(this._events[t]=s=[s]),l=s.length,h=s.length;h--;)if(s[h]===f){l=h+g;break}return s.splice(l,0,c),this}on(t,f){return super.on(t,f)}addListener(t,f){return super.addListener(t,f)}prependListener(t,f){return super.prependListener(t,f)}prependOnceListener(t,f){return super.prependOnceListener(t,f)}removeAllListeners(t){return super.removeAllListeners(t)}removeListener(t,f){return super.removeListener(t,f)}eventNames(){return super.eventNames()}listeners(t){return super.listeners(t)}listenerCount(t){return super.listenerCount(t)}getMaxListeners(){return super.getMaxListeners()}setMaxListeners(t){return super.setMaxListeners(t)}}rt.AsyncEventEmitter=Gf;var tt={};Object.defineProperty(tt,"__esModule",{value:!0});tt.Lock=void 0;class Zf{constructor(){this.permits=1,this.promiseResolverQueue=[]}async acquire(){return this.permits>0?(this.permits-=1,Promise.resolve(!0)):new Promise(t=>this.promiseResolverQueue.push(t))}release(){if(this.permits+=1,this.permits>1&&this.promiseResolverQueue.length>0)console.warn("Lock.permits should never be > 0 when there is someone waiting.");else if(this.permits===1&&this.promiseResolverQueue.length>0){this.permits-=1;const t=this.promiseResolverQueue.shift();t&&t(!0)}}}tt.Lock=Zf;var Ir={},wr={},wt={},mt={},vt,nn;function Yt(){if(nn)return vt;nn=1;var e=hf;return vt=function(){return e()&&!!Symbol.toStringTag},vt}var Bt,fn;function Jf(){if(fn)return Bt;fn=1;var e=Yt()(),t=En,f=t("Object.prototype.toString"),c=function(l){return e&&l&&typeof l=="object"&&Symbol.toStringTag in l?!1:f(l)==="[object Arguments]"},u=function(l){return c(l)?!0:l!==null&&typeof l=="object"&&typeof l.length=="number"&&l.length>=0&&f(l)!=="[object Array]"&&f(l.callee)==="[object Function]"},s=function(){return c(arguments)}();return c.isLegacyArguments=u,Bt=s?c:u,Bt}var _t,on;function Xf(){if(on)return _t;on=1;var e=Object.prototype.toString,t=Function.prototype.toString,f=/^\s*(?:function)?\*/,c=Yt()(),u=Object.getPrototypeOf,s=function(){if(!c)return!1;try{return Function("return function*() {}")()}catch{}},h;return _t=function(g){if(typeof g!="function")return!1;if(f.test(t.call(g)))return!0;if(!c){var w=e.call(g);return w==="[object GeneratorFunction]"}if(!u)return!1;if(typeof h>"u"){var L=s();h=L?u(L):!1}return u(g)===h},_t}var At,an;function Qf(){if(an)return At;an=1;var e=Function.prototype.toString,t=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,f,c;if(typeof t=="function"&&typeof Object.defineProperty=="function")try{f=Object.defineProperty({},"length",{get:function(){throw c}}),c={},t(function(){throw 42},null,f)}catch(ne){ne!==c&&(t=null)}else t=null;var u=/^\s*class\b/,s=function(G){try{var ee=e.call(G);return u.test(ee)}catch{return!1}},h=function(G){try{return s(G)?!1:(e.call(G),!0)}catch{return!1}},l=Object.prototype.toString,g="[object Object]",w="[object Function]",L="[object GeneratorFunction]",S="[object HTMLAllCollection]",R="[object HTML document.all class]",N="[object HTMLCollection]",X=typeof Symbol=="function"&&!!Symbol.toStringTag,J=!(0 in[,]),V=function(){return!1};if(typeof document=="object"){var q=document.all;l.call(q)===l.call(document.all)&&(V=function(G){if((J||!G)&&(typeof G>"u"||typeof G=="object"))try{var ee=l.call(G);return(ee===S||ee===R||ee===N||ee===g)&&G("")==null}catch{}return!1})}return At=t?function(G){if(V(G))return!0;if(!G||typeof G!="function"&&typeof G!="object")return!1;try{t(G,null,f)}catch(ee){if(ee!==c)return!1}return!s(G)&&h(G)}:function(G){if(V(G))return!0;if(!G||typeof G!="function"&&typeof G!="object")return!1;if(X)return h(G);if(s(G))return!1;var ee=l.call(G);return ee!==w&&ee!==L&&!/^\[object HTML/.test(ee)?!1:h(G)},At}var Et,sn;function ei(){if(sn)return Et;sn=1;var e=Qf(),t=Object.prototype.toString,f=Object.prototype.hasOwnProperty,c=function(g,w,L){for(var S=0,R=g.length;S<R;S++)f.call(g,S)&&(L==null?w(g[S],S,g):w.call(L,g[S],S,g))},u=function(g,w,L){for(var S=0,R=g.length;S<R;S++)L==null?w(g.charAt(S),S,g):w.call(L,g.charAt(S),S,g)},s=function(g,w,L){for(var S in g)f.call(g,S)&&(L==null?w(g[S],S,g):w.call(L,g[S],S,g))},h=function(g,w,L){if(!e(w))throw new TypeError("iterator must be a function");var S;arguments.length>=3&&(S=L),t.call(g)==="[object Array]"?c(g,w,S):typeof g=="string"?u(g,w,S):s(g,w,S)};return Et=h,Et}var Tt,cn;function ri(){return cn||(cn=1,Tt=["Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]),Tt}var St,un;function ti(){if(un)return St;un=1;var e=ri(),t=globalThis;return St=function(){for(var c=[],u=0;u<e.length;u++)typeof t[e[u]]=="function"&&(c[c.length]=e[u]);return c},St}var Pt,dn;function $n(){if(dn)return Pt;dn=1;var e=ei(),t=ti(),f=gf,c=En,u=bf,s=c("Object.prototype.toString"),h=Yt()(),l=globalThis,g=t(),w=c("String.prototype.slice"),L=Object.getPrototypeOf,S=c("Array.prototype.indexOf",!0)||function(V,q){for(var ne=0;ne<V.length;ne+=1)if(V[ne]===q)return ne;return-1},R={__proto__:null};h&&u&&L?e(g,function(J){var V=new l[J];if(Symbol.toStringTag in V){var q=L(V),ne=u(q,Symbol.toStringTag);if(!ne){var G=L(q);ne=u(G,Symbol.toStringTag)}R["$"+J]=f(ne.get)}}):e(g,function(J){var V=new l[J],q=V.slice||V.set;q&&(R["$"+J]=f(q))});var N=function(V){var q=!1;return e(R,function(ne,G){if(!q)try{"$"+ne(V)===G&&(q=w(G,1))}catch{}}),q},X=function(V){var q=!1;return e(R,function(ne,G){if(!q)try{ne(V),q=w(G,1)}catch{}}),q};return Pt=function(V){if(!V||typeof V!="object")return!1;if(!h){var q=w(s(V),8,-1);return S(g,q)>-1?q:q!=="Object"?!1:X(V)}return u?N(V):null},Pt}var It,ln;function ni(){if(ln)return It;ln=1;var e=$n();return It=function(f){return!!e(f)},It}var yn;function fi(){return yn||(yn=1,function(e){var t=Jf(),f=Xf(),c=$n(),u=ni();function s(j){return j.call.bind(j)}var h=typeof BigInt<"u",l=typeof Symbol<"u",g=s(Object.prototype.toString),w=s(Number.prototype.valueOf),L=s(String.prototype.valueOf),S=s(Boolean.prototype.valueOf);if(h)var R=s(BigInt.prototype.valueOf);if(l)var N=s(Symbol.prototype.valueOf);function X(j,_r){if(typeof j!="object")return!1;try{return _r(j),!0}catch{return!1}}e.isArgumentsObject=t,e.isGeneratorFunction=f,e.isTypedArray=u;function J(j){return typeof Promise<"u"&&j instanceof Promise||j!==null&&typeof j=="object"&&typeof j.then=="function"&&typeof j.catch=="function"}e.isPromise=J;function V(j){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(j):u(j)||m(j)}e.isArrayBufferView=V;function q(j){return c(j)==="Uint8Array"}e.isUint8Array=q;function ne(j){return c(j)==="Uint8ClampedArray"}e.isUint8ClampedArray=ne;function G(j){return c(j)==="Uint16Array"}e.isUint16Array=G;function ee(j){return c(j)==="Uint32Array"}e.isUint32Array=ee;function we(j){return c(j)==="Int8Array"}e.isInt8Array=we;function Se(j){return c(j)==="Int16Array"}e.isInt16Array=Se;function Ye(j){return c(j)==="Int32Array"}e.isInt32Array=Ye;function Le(j){return c(j)==="Float32Array"}e.isFloat32Array=Le;function Ce(j){return c(j)==="Float64Array"}e.isFloat64Array=Ce;function Ue(j){return c(j)==="BigInt64Array"}e.isBigInt64Array=Ue;function Ke(j){return c(j)==="BigUint64Array"}e.isBigUint64Array=Ke;function x(j){return g(j)==="[object Map]"}x.working=typeof Map<"u"&&x(new Map);function A(j){return typeof Map>"u"?!1:x.working?x(j):j instanceof Map}e.isMap=A;function y(j){return g(j)==="[object Set]"}y.working=typeof Set<"u"&&y(new Set);function v(j){return typeof Set>"u"?!1:y.working?y(j):j instanceof Set}e.isSet=v;function $(j){return g(j)==="[object WeakMap]"}$.working=typeof WeakMap<"u"&&$(new WeakMap);function le(j){return typeof WeakMap>"u"?!1:$.working?$(j):j instanceof WeakMap}e.isWeakMap=le;function ye(j){return g(j)==="[object WeakSet]"}ye.working=typeof WeakSet<"u"&&ye(new WeakSet);function me(j){return ye(j)}e.isWeakSet=me;function Re(j){return g(j)==="[object ArrayBuffer]"}Re.working=typeof ArrayBuffer<"u"&&Re(new ArrayBuffer);function cr(j){return typeof ArrayBuffer>"u"?!1:Re.working?Re(j):j instanceof ArrayBuffer}e.isArrayBuffer=cr;function Xe(j){return g(j)==="[object DataView]"}Xe.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&Xe(new DataView(new ArrayBuffer(1),0,1));function m(j){return typeof DataView>"u"?!1:Xe.working?Xe(j):j instanceof DataView}e.isDataView=m;var T=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function E(j){return g(j)==="[object SharedArrayBuffer]"}function re(j){return typeof T>"u"?!1:(typeof E.working>"u"&&(E.working=E(new T)),E.working?E(j):j instanceof T)}e.isSharedArrayBuffer=re;function _e(j){return g(j)==="[object AsyncFunction]"}e.isAsyncFunction=_e;function Pe(j){return g(j)==="[object Map Iterator]"}e.isMapIterator=Pe;function he(j){return g(j)==="[object Set Iterator]"}e.isSetIterator=he;function xe(j){return g(j)==="[object Generator]"}e.isGeneratorObject=xe;function Ie(j){return g(j)==="[object WebAssembly.Module]"}e.isWebAssemblyCompiledModule=Ie;function ze(j){return X(j,w)}e.isNumberObject=ze;function fr(j){return X(j,L)}e.isStringObject=fr;function vr(j){return X(j,S)}e.isBooleanObject=vr;function yr(j){return h&&X(j,R)}e.isBigIntObject=yr;function Br(j){return l&&X(j,N)}e.isSymbolObject=Br;function Dr(j){return ze(j)||fr(j)||vr(j)||yr(j)||Br(j)}e.isBoxedPrimitive=Dr;function Vr(j){return typeof Uint8Array<"u"&&(cr(j)||re(j))}e.isAnyArrayBuffer=Vr,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(j){Object.defineProperty(e,j,{enumerable:!1,value:function(){throw new Error(j+" is not supported in userland")}})})}(mt)),mt}var Ot,hn;function ii(){return hn||(hn=1,Ot=function(t){return t&&typeof t=="object"&&typeof t.copy=="function"&&typeof t.fill=="function"&&typeof t.readUInt8=="function"}),Ot}var gn;function oi(){return gn||(gn=1,function(e){var t={},f=Object.getOwnPropertyDescriptors||function(T){for(var E=Object.keys(T),re={},_e=0;_e<E.length;_e++)re[E[_e]]=Object.getOwnPropertyDescriptor(T,E[_e]);return re},c=/%[sdj%]/g;e.format=function(m){if(!Se(m)){for(var T=[],E=0;E<arguments.length;E++)T.push(l(arguments[E]));return T.join(" ")}for(var E=1,re=arguments,_e=re.length,Pe=String(m).replace(c,function(xe){if(xe==="%%")return"%";if(E>=_e)return xe;switch(xe){case"%s":return String(re[E++]);case"%d":return Number(re[E++]);case"%j":try{return JSON.stringify(re[E++])}catch{return"[Circular]"}default:return xe}}),he=re[E];E<_e;he=re[++E])G(he)||!Ue(he)?Pe+=" "+he:Pe+=" "+l(he);return Pe},e.deprecate=function(m,T){if(typeof process<"u"&&process.noDeprecation===!0)return m;if(typeof process>"u")return function(){return e.deprecate(m,T).apply(this,arguments)};var E=!1;function re(){if(!E){if(process.throwDeprecation)throw new Error(T);process.traceDeprecation?console.trace(T):console.error(T),E=!0}return m.apply(this,arguments)}return re};var u={},s=/^$/;if(t.NODE_DEBUG){var h=t.NODE_DEBUG;h=h.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),s=new RegExp("^"+h+"$","i")}e.debuglog=function(m){if(m=m.toUpperCase(),!u[m])if(s.test(m)){var T=process.pid;u[m]=function(){var E=e.format.apply(e,arguments);console.error("%s %d: %s",m,T,E)}}else u[m]=function(){};return u[m]};function l(m,T){var E={seen:[],stylize:w};return arguments.length>=3&&(E.depth=arguments[2]),arguments.length>=4&&(E.colors=arguments[3]),ne(T)?E.showHidden=T:T&&e._extend(E,T),Le(E.showHidden)&&(E.showHidden=!1),Le(E.depth)&&(E.depth=2),Le(E.colors)&&(E.colors=!1),Le(E.customInspect)&&(E.customInspect=!0),E.colors&&(E.stylize=g),S(E,m,E.depth)}e.inspect=l,l.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},l.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function g(m,T){var E=l.styles[T];return E?"\x1B["+l.colors[E][0]+"m"+m+"\x1B["+l.colors[E][1]+"m":m}function w(m,T){return m}function L(m){var T={};return m.forEach(function(E,re){T[E]=!0}),T}function S(m,T,E){if(m.customInspect&&T&&A(T.inspect)&&T.inspect!==e.inspect&&!(T.constructor&&T.constructor.prototype===T)){var re=T.inspect(E,m);return Se(re)||(re=S(m,re,E)),re}var _e=R(m,T);if(_e)return _e;var Pe=Object.keys(T),he=L(Pe);if(m.showHidden&&(Pe=Object.getOwnPropertyNames(T)),x(T)&&(Pe.indexOf("message")>=0||Pe.indexOf("description")>=0))return N(T);if(Pe.length===0){if(A(T)){var xe=T.name?": "+T.name:"";return m.stylize("[Function"+xe+"]","special")}if(Ce(T))return m.stylize(RegExp.prototype.toString.call(T),"regexp");if(Ke(T))return m.stylize(Date.prototype.toString.call(T),"date");if(x(T))return N(T)}var Ie="",ze=!1,fr=["{","}"];if(q(T)&&(ze=!0,fr=["[","]"]),A(T)){var vr=T.name?": "+T.name:"";Ie=" [Function"+vr+"]"}if(Ce(T)&&(Ie=" "+RegExp.prototype.toString.call(T)),Ke(T)&&(Ie=" "+Date.prototype.toUTCString.call(T)),x(T)&&(Ie=" "+N(T)),Pe.length===0&&(!ze||T.length==0))return fr[0]+Ie+fr[1];if(E<0)return Ce(T)?m.stylize(RegExp.prototype.toString.call(T),"regexp"):m.stylize("[Object]","special");m.seen.push(T);var yr;return ze?yr=X(m,T,E,he,Pe):yr=Pe.map(function(Br){return J(m,T,E,he,Br,ze)}),m.seen.pop(),V(yr,Ie,fr)}function R(m,T){if(Le(T))return m.stylize("undefined","undefined");if(Se(T)){var E="'"+JSON.stringify(T).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return m.stylize(E,"string")}if(we(T))return m.stylize(""+T,"number");if(ne(T))return m.stylize(""+T,"boolean");if(G(T))return m.stylize("null","null")}function N(m){return"["+Error.prototype.toString.call(m)+"]"}function X(m,T,E,re,_e){for(var Pe=[],he=0,xe=T.length;he<xe;++he)me(T,String(he))?Pe.push(J(m,T,E,re,String(he),!0)):Pe.push("");return _e.forEach(function(Ie){Ie.match(/^\d+$/)||Pe.push(J(m,T,E,re,Ie,!0))}),Pe}function J(m,T,E,re,_e,Pe){var he,xe,Ie;if(Ie=Object.getOwnPropertyDescriptor(T,_e)||{value:T[_e]},Ie.get?Ie.set?xe=m.stylize("[Getter/Setter]","special"):xe=m.stylize("[Getter]","special"):Ie.set&&(xe=m.stylize("[Setter]","special")),me(re,_e)||(he="["+_e+"]"),xe||(m.seen.indexOf(Ie.value)<0?(G(E)?xe=S(m,Ie.value,null):xe=S(m,Ie.value,E-1),xe.indexOf(`
`)>-1&&(Pe?xe=xe.split(`
`).map(function(ze){return"  "+ze}).join(`
`).slice(2):xe=`
`+xe.split(`
`).map(function(ze){return"   "+ze}).join(`
`))):xe=m.stylize("[Circular]","special")),Le(he)){if(Pe&&_e.match(/^\d+$/))return xe;he=JSON.stringify(""+_e),he.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(he=he.slice(1,-1),he=m.stylize(he,"name")):(he=he.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),he=m.stylize(he,"string"))}return he+": "+xe}function V(m,T,E){var re=m.reduce(function(_e,Pe){return Pe.indexOf(`
`)>=0,_e+Pe.replace(/\u001b\[\d\d?m/g,"").length+1},0);return re>60?E[0]+(T===""?"":T+`
 `)+" "+m.join(`,
  `)+" "+E[1]:E[0]+T+" "+m.join(", ")+" "+E[1]}e.types=fi();function q(m){return Array.isArray(m)}e.isArray=q;function ne(m){return typeof m=="boolean"}e.isBoolean=ne;function G(m){return m===null}e.isNull=G;function ee(m){return m==null}e.isNullOrUndefined=ee;function we(m){return typeof m=="number"}e.isNumber=we;function Se(m){return typeof m=="string"}e.isString=Se;function Ye(m){return typeof m=="symbol"}e.isSymbol=Ye;function Le(m){return m===void 0}e.isUndefined=Le;function Ce(m){return Ue(m)&&v(m)==="[object RegExp]"}e.isRegExp=Ce,e.types.isRegExp=Ce;function Ue(m){return typeof m=="object"&&m!==null}e.isObject=Ue;function Ke(m){return Ue(m)&&v(m)==="[object Date]"}e.isDate=Ke,e.types.isDate=Ke;function x(m){return Ue(m)&&(v(m)==="[object Error]"||m instanceof Error)}e.isError=x,e.types.isNativeError=x;function A(m){return typeof m=="function"}e.isFunction=A;function y(m){return m===null||typeof m=="boolean"||typeof m=="number"||typeof m=="string"||typeof m=="symbol"||typeof m>"u"}e.isPrimitive=y,e.isBuffer=ii();function v(m){return Object.prototype.toString.call(m)}function $(m){return m<10?"0"+m.toString(10):m.toString(10)}var le=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function ye(){var m=new Date,T=[$(m.getHours()),$(m.getMinutes()),$(m.getSeconds())].join(":");return[m.getDate(),le[m.getMonth()],T].join(" ")}e.log=function(){console.log("%s - %s",ye(),e.format.apply(e,arguments))},e.inherits=pf,e._extend=function(m,T){if(!T||!Ue(T))return m;for(var E=Object.keys(T),re=E.length;re--;)m[E[re]]=T[E[re]];return m};function me(m,T){return Object.prototype.hasOwnProperty.call(m,T)}var Re=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;e.promisify=function(T){if(typeof T!="function")throw new TypeError('The "original" argument must be of type Function');if(Re&&T[Re]){var E=T[Re];if(typeof E!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(E,Re,{value:E,enumerable:!1,writable:!1,configurable:!0}),E}function E(){for(var re,_e,Pe=new Promise(function(Ie,ze){re=Ie,_e=ze}),he=[],xe=0;xe<arguments.length;xe++)he.push(arguments[xe]);he.push(function(Ie,ze){Ie?_e(Ie):re(ze)});try{T.apply(this,he)}catch(Ie){_e(Ie)}return Pe}return Object.setPrototypeOf(E,Object.getPrototypeOf(T)),Re&&Object.defineProperty(E,Re,{value:E,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(E,f(T))},e.promisify.custom=Re;function cr(m,T){if(!m){var E=new Error("Promise was rejected with a falsy value");E.reason=m,m=E}return T(m)}function Xe(m){if(typeof m!="function")throw new TypeError('The "original" argument must be of type Function');function T(){for(var E=[],re=0;re<arguments.length;re++)E.push(arguments[re]);var _e=E.pop();if(typeof _e!="function")throw new TypeError("The last argument must be of type Function");var Pe=this,he=function(){return _e.apply(Pe,arguments)};m.apply(this,E).then(function(xe){process.nextTick(he.bind(null,null,xe))},function(xe){process.nextTick(cr.bind(null,xe,he))})}return Object.setPrototypeOf(T,Object.getPrototypeOf(m)),Object.defineProperties(T,f(m)),T}e.callbackify=Xe}(wt)),wt}Object.defineProperty(wr,"__esModule",{value:!0});wr.InvalidStatusCodeError=wr.InvalidCertError=void 0;const Hn=Object.freeze({redirect:!0,expectStatusCode:200,headers:{},full:!1,keepAlive:!0,cors:!1,referrer:!1,sslAllowSelfSigned:!1,_redirectCount:0});class $t extends Error{constructor(t,f){super(t),this.fingerprint256=f}}wr.InvalidCertError=$t;class kt extends Error{constructor(t){super(`Request Failed. Status Code: ${t}`),this.statusCode=t}}wr.InvalidStatusCodeError=kt;function Dn(e,t){if(!t||t==="text"||t==="json")try{let f=new TextDecoder("utf8",{fatal:!0}).decode(e);if(t==="text")return f;try{return JSON.parse(f)}catch(c){if(t==="json")throw c;return f}}catch(f){if(t==="text"||t==="json")throw f}return e}let bn={};function Ht(e,t){var R;let f={...Hn,...t};const c=Cr,u=Cr,s=Cr,{promisify:h}=oi(),{resolve:l}=Cr,g=!!/^https/.test(e);let w={method:f.method||"GET",headers:{"Accept-Encoding":"gzip, deflate, br"}};const L=N=>N.replace(/:| /g,"").toLowerCase();if(f.keepAlive){const N={keepAlive:!0,keepAliveMsecs:3e4,maxFreeSockets:1024,maxCachedSessions:1024},X=[g,g&&((R=f.sslPinnedCertificates)==null?void 0:R.map(J=>L(J)).sort())].join();w.agent=bn[X]||(bn[X]=new(g?u:c).Agent(N))}f.type==="json"&&(w.headers["Content-Type"]="application/json"),f.data&&(f.method||(w.method="POST"),w.body=f.type==="json"?JSON.stringify(f.data):f.data),w.headers={...w.headers,...f.headers},f.sslAllowSelfSigned&&(w.rejectUnauthorized=!1);const S=async N=>{const X=N.statusCode;if(f.redirect&&300<=X&&X<400&&N.headers.location){if(f._redirectCount==10)throw new Error("Request failed. Too much redirects.");return f._redirectCount+=1,await Ht(l(e,N.headers.location),f)}if(f.expectStatusCode&&X!==f.expectStatusCode)throw N.resume(),new kt(X);let J=[];for await(const G of N)J.push(G);let V=Buffer.concat(J);const q=N.headers["content-encoding"];q==="br"&&(V=await h(s.brotliDecompress)(V)),(q==="gzip"||q==="deflate")&&(V=await h(s.unzip)(V));const ne=Dn(V,f.type);return f.full?{headers:N.headers,status:X,body:ne}:ne};return new Promise((N,X)=>{var G;const J=async ee=>{if(ee&&ee.code==="DEPTH_ZERO_SELF_SIGNED_CERT")try{await Ht(e,{...f,sslAllowSelfSigned:!0,sslPinnedCertificates:[]})}catch(we){we&&we.fingerprint256&&(ee=new $t(`Self-signed SSL certificate: ${we.fingerprint256}`,we.fingerprint256))}X(ee)},V=(g?u:c).request(e,w,ee=>{ee.on("error",J),(async()=>{try{N(await S(ee))}catch(we){X(we)}})()});V.on("error",J);const q=(G=f.sslPinnedCertificates)==null?void 0:G.map(ee=>L(ee)),ne=ee=>{var Se;const we=L(((Se=ee.getPeerCertificate())==null?void 0:Se.fingerprint256)||"");if(!(!we&&ee.isSessionReused())&&!q.includes(we))return V.emit("error",new $t(`Invalid SSL certificate: ${we} Expected: ${q}`,we)),V.abort()};f.sslPinnedCertificates&&V.on("socket",ee=>{ee.listeners("secureConnect").map(Se=>(Se.name||"").replace("bound ","")).includes("mfetchSecureConnect")||ee.on("secureConnect",ne.bind(null,ee))}),f.keepAlive&&V.setNoDelay(!0),w.body&&V.write(w.body),V.end()})}const ai=new Set(["Accept","Accept-Language","Content-Language","Content-Type"].map(e=>e.toLowerCase())),si=new Set(["Accept-Charset","Accept-Encoding","Access-Control-Request-Headers","Access-Control-Request-Method","Connection","Content-Length","Cookie","Cookie2","Date","DNT","Expect","Host","Keep-Alive","Origin","Referer","TE","Trailer","Transfer-Encoding","Upgrade","Via"].map(e=>e.toLowerCase()));async function ci(e,t){let f={...Hn,...t};const c=new Headers;f.type==="json"&&c.set("Content-Type","application/json");let u=new URL(e);if(u.username){const g=btoa(`${u.username}:${u.password}`);c.set("Authorization",`Basic ${g}`),u.username="",u.password=""}e=""+u;for(let g in f.headers){const w=g.toLowerCase();(ai.has(w)||f.cors&&!si.has(w))&&c.set(g,f.headers[g])}let s={headers:c,redirect:f.redirect?"follow":"manual"};f.referrer||(s.referrerPolicy="no-referrer"),f.cors&&(s.mode="cors"),f.data&&(f.method||(s.method="POST"),s.body=f.type==="json"?JSON.stringify(f.data):f.data);const h=await fetch(e,s);if(f.expectStatusCode&&h.status!==f.expectStatusCode)throw new kt(h.status);const l=Dn(new Uint8Array(await h.arrayBuffer()),f.type);return f.full?{headers:Object.fromEntries(h.headers.entries()),status:h.status,body:l}:l}const ui=!!(typeof process=="object"&&process.versions&&process.versions.node&&process.versions.v8);function di(e,t){return(ui?Ht:ci)(e,t)}wr.default=di;Object.defineProperty(Ir,"__esModule",{value:!0});Ir.getProvider=Ir.fetchFromProvider=void 0;const li=wr,yi=async(e,t)=>(await(0,li.default)(e,{headers:{"content-type":"application/json"},type:"json",data:{method:t.method,params:t.params,jsonrpc:"2.0",id:1}})).result;Ir.fetchFromProvider=yi;const hi=e=>{var t;if(typeof e=="string")return e;if(((t=e==null?void 0:e.connection)==null?void 0:t.url)!==void 0)return e.connection.url;throw new Error("Must provide valid provider URL or Web3Provider")};Ir.getProvider=hi;(function(e){var t=Oe&&Oe.__createBinding||(Object.create?function(u,s,h,l){l===void 0&&(l=h);var g=Object.getOwnPropertyDescriptor(s,h);(!g||("get"in g?!s.__esModule:g.writable||g.configurable))&&(g={enumerable:!0,get:function(){return s[h]}}),Object.defineProperty(u,l,g)}:function(u,s,h,l){l===void 0&&(l=h),u[l]=s[h]}),f=Oe&&Oe.__exportStar||function(u,s){for(var h in u)h!=="default"&&!Object.prototype.hasOwnProperty.call(s,h)&&t(s,u,h)};Object.defineProperty(e,"__esModule",{value:!0}),e.toAscii=e.stripHexPrefix=e.padToEven=e.isHexString=e.isHexPrefixed=e.getKeys=e.getBinarySize=e.fromUtf8=e.fromAscii=e.arrayContainsArray=void 0,f(Gr,e),f(Jr,e),f(Kt,e),f($r,e),f(Xr,e),f(Ze,e),f(mr,e),f(Ft,e),f(Nn,e),f(rt,e);var c=Me;Object.defineProperty(e,"arrayContainsArray",{enumerable:!0,get:function(){return c.arrayContainsArray}}),Object.defineProperty(e,"fromAscii",{enumerable:!0,get:function(){return c.fromAscii}}),Object.defineProperty(e,"fromUtf8",{enumerable:!0,get:function(){return c.fromUtf8}}),Object.defineProperty(e,"getBinarySize",{enumerable:!0,get:function(){return c.getBinarySize}}),Object.defineProperty(e,"getKeys",{enumerable:!0,get:function(){return c.getKeys}}),Object.defineProperty(e,"isHexPrefixed",{enumerable:!0,get:function(){return c.isHexPrefixed}}),Object.defineProperty(e,"isHexString",{enumerable:!0,get:function(){return c.isHexString}}),Object.defineProperty(e,"padToEven",{enumerable:!0,get:function(){return c.padToEven}}),Object.defineProperty(e,"stripHexPrefix",{enumerable:!0,get:function(){return c.stripHexPrefix}}),Object.defineProperty(e,"toAscii",{enumerable:!0,get:function(){return c.toAscii}}),f(tt,e),f(Ir,e)})(qr);var ke={};Object.defineProperty(ke,"__esModule",{value:!0});ke.normalize=ke.recoverPublicKey=ke.concatSig=ke.legacyToBuffer=ke.isNullish=ke.padWithZeroes=void 0;const lr=qr,Sr=Je;function Dt(e,t){if(e!==""&&!/^[a-f0-9]+$/iu.test(e))throw new Error(`Expected an unprefixed hex string. Received: ${e}`);if(t<0)throw new Error(`Expected a non-negative integer target length. Received: ${t}`);return String.prototype.padStart.call(e,t,"0")}ke.padWithZeroes=Dt;function Vn(e){return e==null}ke.isNullish=Vn;function gi(e){return typeof e=="string"&&!(0,lr.isHexString)(e)?Buffer.from(e):(0,lr.toBuffer)(e)}ke.legacyToBuffer=gi;function bi(e,t,f){const c=(0,lr.fromSigned)(t),u=(0,lr.fromSigned)(f),s=(0,lr.bufferToInt)(e),h=Dt((0,lr.toUnsigned)(c).toString("hex"),64),l=Dt((0,lr.toUnsigned)(u).toString("hex"),64),g=(0,Sr.remove0x)((0,Sr.numberToHex)(s));return(0,Sr.add0x)(h.concat(l,g))}ke.concatSig=bi;function pi(e,t){const f=(0,lr.fromRpcSig)(t);return(0,lr.ecrecover)(e,f.v,f.r,f.s)}ke.recoverPublicKey=pi;function xi(e){if(!Vn(e)){if(typeof e=="number"){if(e<0)return"0x";const t=(0,Sr.numberToBytes)(e);e=(0,Sr.bytesToHex)(t)}if(typeof e!="string"){let t="eth-sig-util.normalize() requires hex string or integer input.";throw t+=` received ${typeof e}: ${e}`,new Error(t)}return(0,Sr.add0x)(e.toLowerCase())}}ke.normalize=xi;Object.defineProperty(hr,"__esModule",{value:!0});hr.extractPublicKey=hr.recoverPersonalSignature=hr.personalSign=void 0;const Pr=qr,ar=ke;function wi({privateKey:e,data:t}){if((0,ar.isNullish)(t))throw new Error("Missing data parameter");if((0,ar.isNullish)(e))throw new Error("Missing privateKey parameter");const f=(0,ar.legacyToBuffer)(t),c=(0,Pr.hashPersonalMessage)(f),u=(0,Pr.ecsign)(c,e);return(0,ar.concatSig)((0,Pr.toBuffer)(u.v),u.r,u.s)}hr.personalSign=wi;function mi({data:e,signature:t}){if((0,ar.isNullish)(e))throw new Error("Missing data parameter");if((0,ar.isNullish)(t))throw new Error("Missing signature parameter");const f=Kn(e,t),c=(0,Pr.publicToAddress)(f);return(0,Pr.bufferToHex)(c)}hr.recoverPersonalSignature=mi;function vi({data:e,signature:t}){if((0,ar.isNullish)(e))throw new Error("Missing data parameter");if((0,ar.isNullish)(t))throw new Error("Missing signature parameter");return`0x${Kn(e,t).toString("hex")}`}hr.extractPublicKey=vi;function Kn(e,t){const f=(0,Pr.hashPersonalMessage)((0,ar.legacyToBuffer)(e));return(0,ar.recoverPublicKey)(f,t)}var zn={},Fn={},Yn={},nr={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ParserError=e.getErrorStack=e.getErrorMessage=void 0;const t=Je,f=s=>typeof s=="string"?s:s instanceof Error||(0,t.isObject)(s)&&(0,t.hasProperty)(s,"message")&&typeof s.message=="string"?s.message:"Unknown error.";e.getErrorMessage=f;const c=s=>{if(s instanceof Error)return s.stack};e.getErrorStack=c;class u extends Error{constructor(h,l){super(h),this.name="ParserError";const g=(0,e.getErrorStack)(l);g&&(this.stack=g)}}e.ParserError=u})(nr);var jt={},nt={};Object.defineProperty(nt,"__esModule",{value:!0});nt.iterate=void 0;const pn=Je,Bi=function*(e,t=32){for(let f=0;f<e.length;f+=t){const c=s=>{(0,pn.assert)(s>=0,"Cannot skip a negative number of bytes."),(0,pn.assert)(s%t===0,"Length must be a multiple of the size."),f+=s},u=e.subarray(f);yield{skip:c,value:u}}return{skip:()=>{},value:new Uint8Array}};nt.iterate=Bi;var Lt={},kn={},br={},gr={};Object.defineProperty(gr,"__esModule",{value:!0});gr.padEnd=gr.padStart=gr.set=void 0;const Wt=Je,Wn=32,_i=(e,t,f)=>(0,Wt.concatBytes)([e.subarray(0,f),t,e.subarray(f+t.length)]);gr.set=_i;const Ai=(e,t=Wn)=>{const f=new Uint8Array(Math.max(t-e.length,0)).fill(0);return(0,Wt.concatBytes)([f,e])};gr.padStart=Ai;const Ei=(e,t=Wn)=>{const f=new Uint8Array(Math.max(t-e.length,0)).fill(0);return(0,Wt.concatBytes)([e,f])};gr.padEnd=Ei;(function(e){var t=Oe&&Oe.__createBinding||(Object.create?function(c,u,s,h){h===void 0&&(h=s);var l=Object.getOwnPropertyDescriptor(u,s);(!l||("get"in l?!u.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return u[s]}}),Object.defineProperty(c,h,l)}:function(c,u,s,h){h===void 0&&(h=s),c[h]=u[s]}),f=Oe&&Oe.__exportStar||function(c,u){for(var s in c)s!=="default"&&!Object.prototype.hasOwnProperty.call(u,s)&&t(u,c,s)};Object.defineProperty(e,"__esModule",{value:!0}),f(gr,e)})(br);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.address=e.getAddress=void 0;const t=Je,f=nr,c=br,u=s=>{const h=(0,t.createBytes)(s);return(0,t.assert)(h.length<=20,new f.ParserError(`Invalid address value. Expected address to be 20 bytes long, but received ${h.length} bytes.`)),(0,c.padStart)(h,20)};e.getAddress=u,e.address={isDynamic:!1,isType:s=>s==="address",getByteLength(){return 32},encode({buffer:s,value:h,packed:l}){const g=(0,e.getAddress)(h);if(l)return(0,t.concatBytes)([s,g]);const w=(0,c.padStart)(g);return(0,t.concatBytes)([s,w])},decode({value:s}){return(0,t.add0x)((0,t.bytesToHex)(s.slice(12,32)))}}})(kn);var Mt={},ft={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.fixedBytes=e.getByteLength=void 0;const t=Je,f=nr,c=br,u=/^bytes([0-9]{1,2})$/u,s=h=>{var w;const l=(w=h.match(u))==null?void 0:w[1];(0,t.assert)(l,`Invalid byte length. Expected a number between 1 and 32, but received "${h}".`);const g=Number(l);return(0,t.assert)(g>0&&g<=32,new f.ParserError(`Invalid byte length. Expected a number between 1 and 32, but received "${h}".`)),g};e.getByteLength=s,e.fixedBytes={isDynamic:!1,isType(h){return u.test(h)},getByteLength(){return 32},encode({type:h,buffer:l,value:g,packed:w}){const L=(0,e.getByteLength)(h),S=(0,t.createBytes)(g);return(0,t.assert)(S.length<=L,new f.ParserError(`Expected a value of length ${L}, but received a value of length ${S.length}.`)),w?(0,t.concatBytes)([l,(0,c.padEnd)(S,L)]):(0,t.concatBytes)([l,(0,c.padEnd)(S)])},decode({type:h,value:l}){const g=(0,e.getByteLength)(h);return l.slice(0,g)}}})(ft);var Ut={},xn;function qn(){return xn||(xn=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.tuple=e.getTupleElements=void 0;const t=Je,f=nr,c=Gt(),u=/^\((.+)\)$/u,s=l=>u.test(l),h=l=>{(0,t.assert)(l.startsWith("(")&&l.endsWith(")"),new f.ParserError(`Invalid tuple type. Expected tuple type, but received "${l}".`));const g=[];let w="",L=0;for(let S=1;S<l.length-1;S++){const R=l[S];R===","&&L===0?(g.push(w.trim()),w=""):(w+=R,R==="("?L+=1:R===")"&&(L-=1))}return w.trim()&&g.push(w.trim()),g};e.getTupleElements=h,e.tuple={isDynamic(l){return(0,e.getTupleElements)(l).some(w=>{const L=(0,c.getParser)(w);return(0,c.isDynamicParser)(L,w)})},isType(l){return s(l)},getByteLength(l){return(0,c.isDynamicParser)(this,l)?32:(0,e.getTupleElements)(l).reduce((w,L)=>w+(0,c.getParser)(L).getByteLength(L),0)},encode({type:l,buffer:g,value:w,packed:L,tight:S}){const R=(0,e.getTupleElements)(l);return(0,c.pack)({types:R,values:w,byteArray:g,packed:L,tight:S})},decode({type:l,value:g,skip:w}){const L=(0,e.getTupleElements)(l),S=this.getByteLength(l)-32;return w(S),(0,c.unpack)(L,g)}}}(Ut)),Ut}var wn;function Ti(){return wn||(wn=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.array=e.getTupleType=e.getArrayType=e.isArrayType=void 0;const t=Je,f=nr,c=Gt(),u=br,s=ft,h=qn(),l=/^(?<type>.*)\[(?<length>\d*?)\]$/u,g=S=>l.test(S);e.isArrayType=g;const w=S=>{var N;const R=S.match(l);return(0,t.assert)((N=R==null?void 0:R.groups)==null?void 0:N.type,new f.ParserError(`Invalid array type. Expected an array type, but received "${S}".`)),[R.groups.type,R.groups.length?parseInt(R.groups.length,10):void 0]};e.getArrayType=w;const L=(S,R)=>`(${new Array(R).fill(S).join(",")})`;e.getTupleType=L,e.array={isDynamic(S){const[R,N]=(0,e.getArrayType)(S);return N===void 0||(0,c.isDynamicParser)((0,c.getParser)(R),R)},isType(S){return(0,e.isArrayType)(S)},getByteLength(S){(0,t.assert)((0,e.isArrayType)(S),new f.ParserError(`Expected an array type, but received "${S}".`));const[R,N]=(0,e.getArrayType)(S);return!(0,c.isDynamicParser)(this,S)&&N!==void 0?h.tuple.getByteLength((0,e.getTupleType)(R,N)):32},encode({type:S,buffer:R,value:N,packed:X,tight:J}){const[V,q]=(0,e.getArrayType)(S);if((0,t.assert)(!X||!(0,e.isArrayType)(V),new f.ParserError("Cannot pack nested arrays.")),X&&(0,c.isDynamicParser)((0,c.getParser)(V),V))return(0,c.pack)({types:new Array(N.length).fill(V),values:N,byteArray:R,packed:X,arrayPacked:!0,tight:J});if(q)return(0,t.assert)(q===N.length,new f.ParserError(`Array length does not match type length. Expected a length of ${q}, but received ${N.length}.`)),h.tuple.encode({type:(0,e.getTupleType)(V,q),buffer:R,value:N,packed:s.fixedBytes.isType(V)&&J,tight:J});if(X)return(0,c.pack)({types:new Array(N.length).fill(V),values:N,byteArray:R,packed:s.fixedBytes.isType(V)&&J,arrayPacked:!0,tight:J});const ne=(0,u.padStart)((0,t.numberToBytes)(N.length));return(0,c.pack)({types:new Array(N.length).fill(V),values:N,byteArray:(0,t.concatBytes)([R,ne]),packed:X,tight:J})},decode({type:S,value:R,...N}){const[X,J]=(0,e.getArrayType)(S);if(J){const q=h.tuple.decode({type:(0,e.getTupleType)(X,J),value:R,...N});return(0,t.assert)(q.length===J,new f.ParserError(`Array length does not match type length. Expected a length of ${J}, but received ${q.length}.`)),q}const V=(0,t.bytesToNumber)(R.subarray(0,32));return(0,c.unpack)(new Array(V).fill(X),R.subarray(32))}}}(Mt)),Mt}var Gn={},qt={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.number=e.getBigInt=e.assertNumberLength=e.getLength=e.isSigned=void 0;const t=Je,f=nr,c=br,u=/^u?int(?<length>[0-9]*)?$/u,s=w=>!w.startsWith("u");e.isSigned=s;const h=w=>{var R;if(w==="int"||w==="uint")return 256;const L=w.match(u);(0,t.assert)((R=L==null?void 0:L.groups)==null?void 0:R.length,new f.ParserError(`Invalid number type. Expected a number type, but received "${w}".`));const S=parseInt(L.groups.length,10);return(0,t.assert)(S>=8&&S<=256,new f.ParserError(`Invalid number length. Expected a number between 8 and 256, but received "${w}".`)),(0,t.assert)(S%8===0,new f.ParserError(`Invalid number length. Expected a multiple of 8, but received "${w}".`)),S};e.getLength=h;const l=(w,L)=>{const S=(0,e.getLength)(L),R=BigInt(2)**BigInt(S-((0,e.isSigned)(L)?1:0))-BigInt(1);if((0,e.isSigned)(L)){(0,t.assert)(w>=-(R+BigInt(1))&&w<=R,new f.ParserError(`Number "${w}" is out of range for type "${L}".`));return}(0,t.assert)(w<=R,new f.ParserError(`Number "${w}" is out of range for type "${L}".`))};e.assertNumberLength=l;const g=w=>{try{return(0,t.createBigInt)(w)}catch{throw new f.ParserError(`Invalid number. Expected a valid number value, but received "${w}".`)}};e.getBigInt=g,e.number={isDynamic:!1,isType(w){return u.test(w)},getByteLength(){return 32},encode({type:w,buffer:L,value:S,packed:R}){const N=(0,e.getBigInt)(S);if((0,e.assertNumberLength)(N,w),(0,e.isSigned)(w)){if(R){const X=(0,e.getLength)(w)/8;return(0,t.concatBytes)([L,(0,t.signedBigIntToBytes)(N,X)])}return(0,t.concatBytes)([L,(0,c.padStart)((0,t.signedBigIntToBytes)(N,32))])}if(R){const X=(0,e.getLength)(w)/8;return(0,t.concatBytes)([L,(0,c.padStart)((0,t.bigIntToBytes)(N),X)])}return(0,t.concatBytes)([L,(0,c.padStart)((0,t.bigIntToBytes)(N))])},decode({type:w,value:L}){const S=L.subarray(0,32);if((0,e.isSigned)(w)){const N=(0,t.bytesToSignedBigInt)(S);return(0,e.assertNumberLength)(N,w),N}const R=(0,t.bytesToBigInt)(S);return(0,e.assertNumberLength)(R,w),R}}})(qt);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.bool=e.getBooleanValue=void 0;const t=Tn,f=Je,c=nr,u=qt,s=(0,t.coerce)((0,t.boolean)(),(0,t.union)([(0,t.literal)("true"),(0,t.literal)("false")]),l=>l==="true"),h=l=>{try{return(0,t.create)(l,s)?BigInt(1):BigInt(0)}catch{throw new c.ParserError(`Invalid boolean value. Expected a boolean literal, or the string "true" or "false", but received "${l}".`)}};e.getBooleanValue=h,e.bool={isDynamic:!1,isType:l=>l==="bool",getByteLength(){return 32},encode({buffer:l,value:g,packed:w,tight:L}){const S=(0,e.getBooleanValue)(g);return w?(0,f.concatBytes)([l,(0,f.bigIntToBytes)(S)]):u.number.encode({type:"uint256",buffer:l,value:S,packed:w,tight:L})},decode(l){return u.number.decode({...l,type:"uint256"})===BigInt(1)}}})(Gn);var Hr={};Object.defineProperty(Hr,"__esModule",{value:!0});Hr.bytes=void 0;const Rr=Je,mn=br;Hr.bytes={isDynamic:!0,isType:e=>e==="bytes",getByteLength(){return 32},encode({buffer:e,value:t,packed:f}){const c=(0,Rr.createBytes)(t);if(f)return(0,Rr.concatBytes)([e,c]);const u=Math.ceil(c.byteLength/32)*32;return(0,Rr.concatBytes)([e,(0,mn.padStart)((0,Rr.numberToBytes)(c.byteLength)),(0,mn.padEnd)(c,u)])},decode({value:e}){const t=e.subarray(0,32),f=(0,Rr.bytesToNumber)(t);return e.slice(32,32+f)}};var Zn={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.fn=e.getFunction=void 0;const t=Tn,f=Je,c=nr,u=ft,s=(0,t.coerce)((0,t.object)({address:f.StrictHexStruct,selector:f.StrictHexStruct}),(0,t.union)([f.StrictHexStruct,(0,t.instance)(Uint8Array)]),l=>{const g=(0,f.createBytes)(l);return(0,f.assert)(g.length===24,new c.ParserError(`Invalid Solidity function. Expected function to be 24 bytes long, but received ${g.length} bytes.`)),{address:(0,f.bytesToHex)(g.subarray(0,20)),selector:(0,f.bytesToHex)(g.subarray(20,24))}}),h=l=>{const g=(0,t.create)(l,s);return(0,f.concatBytes)([(0,f.hexToBytes)(g.address),(0,f.hexToBytes)(g.selector)])};e.getFunction=h,e.fn={isDynamic:!1,isType:l=>l==="function",getByteLength(){return 32},encode({buffer:l,value:g,packed:w,tight:L}){const S=(0,e.getFunction)(g);return u.fixedBytes.encode({type:"bytes24",buffer:l,value:S,packed:w,tight:L})},decode({value:l}){return{address:(0,f.bytesToHex)(l.slice(0,20)),selector:(0,f.bytesToHex)(l.slice(20,24))}}}})(Zn);var Jn={};Object.defineProperty(Jn,"__esModule",{value:!0});var it={};Object.defineProperty(it,"__esModule",{value:!0});it.string=void 0;const vn=Je,Bn=Hr;it.string={isDynamic:!0,isType:e=>e==="string",getByteLength(){return 32},encode({buffer:e,value:t,packed:f,tight:c}){return Bn.bytes.encode({type:"bytes",buffer:e,value:(0,vn.stringToBytes)(t),packed:f,tight:c})},decode(e){return(0,vn.bytesToString)(Bn.bytes.decode(e))}};var _n;function Xn(){return _n||(_n=1,function(e){var t=Oe&&Oe.__createBinding||(Object.create?function(c,u,s,h){h===void 0&&(h=s);var l=Object.getOwnPropertyDescriptor(u,s);(!l||("get"in l?!u.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return u[s]}}),Object.defineProperty(c,h,l)}:function(c,u,s,h){h===void 0&&(h=s),c[h]=u[s]}),f=Oe&&Oe.__exportStar||function(c,u){for(var s in c)s!=="default"&&!Object.prototype.hasOwnProperty.call(u,s)&&t(u,c,s)};Object.defineProperty(e,"__esModule",{value:!0}),f(kn,e),f(Ti(),e),f(Gn,e),f(Hr,e),f(ft,e),f(Zn,e),f(qt,e),f(Jn,e),f(it,e),f(qn(),e)}(Lt)),Lt}var An;function Gt(){return An||(An=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.unpack=e.pack=e.isDynamicParser=e.getParser=void 0;const t=Je,f=nr,c=nt,u=Xn(),s=br,h=L=>{const S={address:u.address,array:u.array,bool:u.bool,bytes:u.bytes,fixedBytes:u.fixedBytes,function:u.fn,number:u.number,string:u.string,tuple:u.tuple},R=S[L];if(R)return R;const N=Object.values(S).find(X=>X.isType(L));if(N)return N;throw new f.ParserError(`The type "${L}" is not supported.`)};e.getParser=h;const l=(L,S)=>{const{isDynamic:R}=L;return typeof R=="function"?R(S):R};e.isDynamicParser=l;const g=({types:L,values:S,packed:R=!1,tight:N=!1,arrayPacked:X=!1,byteArray:J=new Uint8Array})=>{(0,t.assert)(L.length===S.length,new f.ParserError(`The number of types (${L.length}) does not match the number of values (${S.length}).`));const{staticBuffer:V,dynamicBuffer:q,pointers:ne}=L.reduce(({staticBuffer:we,dynamicBuffer:Se,pointers:Ye},Le,Ce)=>{const Ue=(0,e.getParser)(Le),Ke=S[Ce];if(R||X||!(0,e.isDynamicParser)(Ue,Le))return{staticBuffer:Ue.encode({buffer:we,value:Ke,type:Le,packed:R,tight:N}),dynamicBuffer:Se,pointers:Ye};const x=(0,t.concatBytes)([we,new Uint8Array(32)]),A=Ue.encode({buffer:Se,value:Ke,type:Le,packed:R,tight:N});return{staticBuffer:x,dynamicBuffer:A,pointers:[...Ye,{position:we.length,pointer:Se.length}]}},{staticBuffer:new Uint8Array,dynamicBuffer:new Uint8Array,pointers:[]});(0,t.assert)(!R&&!X||q.length===0,new f.ParserError("Invalid pack state."));const G=V.length,ee=ne.reduce((we,{pointer:Se,position:Ye})=>{const Le=(0,s.padStart)((0,t.numberToBytes)(G+Se));return(0,s.set)(we,Le,Ye)},V);return(0,t.concatBytes)([J,ee,q])};e.pack=g;const w=(L,S)=>{const R=(0,c.iterate)(S);return L.map(N=>{const{value:{value:X,skip:J},done:V}=R.next();(0,t.assert)(!V,new f.ParserError(`The encoded value is invalid for the provided types. Reached end of buffer while attempting to parse "${N}".`));const q=(0,e.getParser)(N);if((0,e.isDynamicParser)(q,N)){const G=(0,t.bytesToNumber)(X.subarray(0,32)),ee=S.subarray(G);return q.decode({type:N,value:ee,skip:J})}return q.decode({type:N,value:X,skip:J})})};e.unpack=w}(jt)),jt}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.decodeSingle=e.decode=e.encodePacked=e.encodeSingle=e.encode=void 0;const t=Je,f=nr,c=Gt(),u=(w,L,S,R)=>{try{return(0,c.pack)({types:w,values:L,packed:S,tight:R})}catch(N){throw N instanceof f.ParserError?new f.ParserError(`Unable to encode value: ${N.message}`,N):new f.ParserError(`An unexpected error occurred: ${(0,f.getErrorMessage)(N)}`,N)}};e.encode=u;const s=(w,L)=>(0,e.encode)([w],[L]);e.encodeSingle=s;const h=(w,L,S)=>(0,e.encode)(w,L,!0,S);e.encodePacked=h;const l=(w,L)=>{const S=(0,t.createBytes)(L);try{return(0,c.unpack)(w,S)}catch(R){throw R instanceof f.ParserError?new f.ParserError(`Unable to decode value: ${R.message}`,R):new f.ParserError(`An unexpected error occurred: ${(0,f.getErrorMessage)(R)}`,R)}};e.decode=l;const g=(w,L)=>{const S=(0,e.decode)([w],L);return(0,t.assert)(S.length===1,new f.ParserError("Decoded value array has unexpected length.")),S[0]};e.decodeSingle=g})(Yn);var Qn={},ef={};Object.defineProperty(ef,"__esModule",{value:!0});(function(e){var t=Oe&&Oe.__createBinding||(Object.create?function(c,u,s,h){h===void 0&&(h=s);var l=Object.getOwnPropertyDescriptor(u,s);(!l||("get"in l?!u.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return u[s]}}),Object.defineProperty(c,h,l)}:function(c,u,s,h){h===void 0&&(h=s),c[h]=u[s]}),f=Oe&&Oe.__exportStar||function(c,u){for(var s in c)s!=="default"&&!Object.prototype.hasOwnProperty.call(u,s)&&t(u,c,s)};Object.defineProperty(e,"__esModule",{value:!0}),f(ef,e)})(Qn);(function(e){var t=Oe&&Oe.__createBinding||(Object.create?function(c,u,s,h){h===void 0&&(h=s);var l=Object.getOwnPropertyDescriptor(u,s);(!l||("get"in l?!u.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return u[s]}}),Object.defineProperty(c,h,l)}:function(c,u,s,h){h===void 0&&(h=s),c[h]=u[s]}),f=Oe&&Oe.__exportStar||function(c,u){for(var s in c)s!=="default"&&!Object.prototype.hasOwnProperty.call(u,s)&&t(u,c,s)};Object.defineProperty(e,"__esModule",{value:!0}),f(Yn,e),f(nr,e),f(Qn,e)})(Fn);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.recoverTypedSignature=e.signTypedData=e.typedSignatureHash=e.TypedDataUtils=e.TYPED_MESSAGE_SCHEMA=e.SignTypedDataVersion=void 0;const t=qr,f=Fn,c=Xn(),u=br,s=Je,h=Vt,l=ke;var g;(function(x){x.V1="V1",x.V3="V3",x.V4="V4"})(g=e.SignTypedDataVersion||(e.SignTypedDataVersion={})),e.TYPED_MESSAGE_SCHEMA={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]};function w(x,A){if(Object.keys(g).includes(x)){if(A&&!A.includes(x))throw new Error(`SignTypedDataVersion not allowed: '${x}'. Allowed versions are: ${A.join(", ")}`)}else throw new Error(`Invalid version: '${x}'`)}function L(x,A){(0,s.assert)(A!==null,`Unable to encode value: Invalid number. Expected a valid number value, but received "${A}".`);const y=BigInt(A),v=(0,c.getLength)(x),$=BigInt(2)**BigInt(v)-BigInt(1);return(0,s.assert)(y>=-$&&y<=$,`Unable to encode value: Number "${A}" is out of range for type "${x}".`),y}function S(x){let A=BigInt(0);for(let y=0;y<x.length;y++){const v=BigInt(x.charCodeAt(y)-48);A*=BigInt(10),v>=49?A+=v-BigInt(49)+BigInt(10):v>=17?A+=v-BigInt(17)+BigInt(10):A+=v}return(0,u.padStart)((0,s.bigIntToBytes)(A),20)}function R(x,A,y,v,$){if(w($,[g.V3,g.V4]),x[y]!==void 0)return["bytes32",$===g.V4&&v==null?"0x0000000000000000000000000000000000000000000000000000000000000000":(0,t.arrToBufArr)((0,h.keccak256)(N(y,v,x,$)))];if(y==="function")throw new Error('Unsupported or invalid type: "function"');if(v===void 0)throw new Error(`missing value for field ${A} of type ${y}`);if(y==="address"){if(typeof v=="number")return["address",(0,u.padStart)((0,s.numberToBytes)(v),20)];if((0,s.isStrictHexString)(v))return["address",(0,s.add0x)(v)];if(typeof v=="string")return["address",S(v).subarray(0,20)]}if(y==="bool")return["bool",!!v];if(y==="bytes")return typeof v=="number"?v=(0,s.numberToBytes)(v):(0,s.isStrictHexString)(v)||v==="0x"?v=(0,s.hexToBytes)(v):typeof v=="string"&&(v=(0,s.stringToBytes)(v)),["bytes32",(0,t.arrToBufArr)((0,h.keccak256)(v))];if(y.startsWith("bytes")&&y!=="bytes"&&!y.includes("["))return typeof v=="number"?v<0?["bytes32",new Uint8Array(32)]:["bytes32",(0,s.bigIntToBytes)(BigInt(v))]:(0,s.isStrictHexString)(v)?["bytes32",(0,s.hexToBytes)(v)]:["bytes32",v];if(y.startsWith("int")&&!y.includes("[")){const le=L(y,v);return le>=BigInt(0)?["uint256",le]:["int256",le]}if(y==="string")return typeof v=="number"?v=(0,s.numberToBytes)(v):v=(0,s.stringToBytes)(v??""),["bytes32",(0,t.arrToBufArr)((0,h.keccak256)(v))];if(y.endsWith("]")){if($===g.V3)throw new Error("Arrays are unimplemented in encodeData; use V4 extension");const le=y.slice(0,y.lastIndexOf("[")),ye=v.map(me=>R(x,A,le,me,$));return["bytes32",(0,t.arrToBufArr)((0,h.keccak256)((0,f.encode)(ye.map(([me])=>me),ye.map(([,me])=>me))))]}return[y,v]}function N(x,A,y,v){w(v,[g.V3,g.V4]);const $=["bytes32"],le=[q(x,y)];for(const ye of y[x]){if(v===g.V3&&A[ye.name]===void 0)continue;const[me,Re]=R(y,ye.name,ye.type,A[ye.name],v);$.push(me),le.push(Re)}return(0,t.arrToBufArr)((0,f.encode)($,le))}function X(x,A){let y="";const v=J(x,A);v.delete(x);const $=[x,...Array.from(v).sort()];for(const le of $){if(!A[le])throw new Error(`No type definition specified: ${le}`);y+=`${le}(${A[le].map(({name:me,type:Re})=>`${Re} ${me}`).join(",")})`}return y}function J(x,A,y=new Set){if(typeof x!="string")throw new Error(`Invalid findTypeDependencies input ${JSON.stringify(x)}`);if([x]=x.match(/^\w*/u),y.has(x)||A[x]===void 0)return y;y.add(x);for(const $ of A[x])J($.type,A,y);return y}function V(x,A,y,v){w(v,[g.V3,g.V4]);const $=N(x,A,y,v),le=(0,h.keccak256)($);return(0,t.arrToBufArr)(le)}function q(x,A){const y=(0,s.stringToBytes)(X(x,A));return(0,t.arrToBufArr)((0,h.keccak256)(y))}function ne(x){const A={};for(const y in e.TYPED_MESSAGE_SCHEMA.properties)x[y]&&(A[y]=x[y]);return"types"in A&&(A.types=Object.assign({EIP712Domain:[]},A.types)),A}function G(x,A){w(A,[g.V3,g.V4]);const y=ne(x),{domain:v}=y,$={EIP712Domain:y.types.EIP712Domain};return V("EIP712Domain",v,$,A)}function ee(x,A){w(A,[g.V3,g.V4]);const y=ne(x),v=[(0,s.hexToBytes)("1901")];return v.push(G(x,A)),y.primaryType!=="EIP712Domain"&&v.push(V(y.primaryType,y.message,y.types,A)),(0,t.arrToBufArr)((0,h.keccak256)((0,s.concatBytes)(v)))}e.TypedDataUtils={encodeData:N,encodeType:X,findTypeDependencies:J,hashStruct:V,hashType:q,sanitizeData:ne,eip712Hash:ee,eip712DomainHash:G};function we(x){const A=Ce(x);return(0,s.bytesToHex)(A)}e.typedSignatureHash=we;function Se(x,A){if((0,c.isArrayType)(x)&&Array.isArray(A)){const[y]=(0,c.getArrayType)(x);return A.map(v=>Se(y,v))}if(x==="address"){if(typeof A=="number")return(0,u.padStart)((0,s.numberToBytes)(A),20);if((0,s.isStrictHexString)(A))return(0,u.padStart)((0,s.hexToBytes)(A).subarray(0,20),20);if(A instanceof Uint8Array)return(0,u.padStart)(A.subarray(0,20),20)}if(x==="bool")return!!A;if(x.startsWith("bytes")&&x!=="bytes"){const y=(0,c.getByteLength)(x);if(typeof A=="number")return A<0?new Uint8Array:(0,s.numberToBytes)(A).subarray(0,y);if((0,s.isStrictHexString)(A))return(0,s.hexToBytes)(A).subarray(0,y);if(A instanceof Uint8Array)return A.subarray(0,y)}if(x.startsWith("uint")&&typeof A=="number")return Math.abs(A);if(x.startsWith("int")&&typeof A=="number"){const y=(0,c.getLength)(x);return BigInt.asIntN(y,BigInt(A))}return A}function Ye(x){return x.map(A=>typeof A=="number"?(0,u.padStart)((0,s.numberToBytes)(A),32):(0,s.isStrictHexString)(A)?(0,u.padStart)((0,s.hexToBytes)(A).subarray(0,32),32):A instanceof Uint8Array?(0,u.padStart)(A.subarray(0,32),32):A)}function Le(x,A){return A.map(y=>{if(typeof y=="string"||typeof y=="number"||typeof y=="bigint"){const v=L(x,y);if(v>=BigInt(0))return(0,u.padStart)((0,s.bigIntToBytes)(v),32);const $=(0,c.getLength)(x),le=BigInt.asIntN($,v);return(0,s.signedBigIntToBytes)(le,32)}return y})}function Ce(x){const A=new Error("Expect argument to be non-empty array");if(typeof x!="object"||!("length"in x)||!x.length)throw A;const y=x.map(({name:ye,type:me,value:Re})=>{if(me==="address[]")return{name:ye,type:"bytes32[]",value:Ye(Re)};if(me.startsWith("int")&&(0,c.isArrayType)(me)){const[cr,Xe]=(0,c.getArrayType)(me);return{name:ye,type:`bytes32[${Xe??""}]`,value:Le(cr,Re)}}return{name:ye,type:me,value:Se(me,Re)}}),v=y.map(ye=>ye.type!=="bytes"?ye.value:(0,l.legacyToBuffer)(ye.value)),$=y.map(ye=>{if(ye.type==="function")throw new Error('Unsupported or invalid type: "function"');return ye.type}),le=x.map(ye=>{if(!ye.name)throw A;return`${ye.type} ${ye.name}`});return(0,t.arrToBufArr)((0,h.keccak256)((0,f.encodePacked)(["bytes32","bytes32"],[(0,h.keccak256)((0,f.encodePacked)(["string[]"],[le],!0)),(0,h.keccak256)((0,f.encodePacked)($,v,!0))])))}function Ue({privateKey:x,data:A,version:y}){if(w(y),(0,l.isNullish)(A))throw new Error("Missing data parameter");if((0,l.isNullish)(x))throw new Error("Missing private key parameter");const v=y===g.V1?Ce(A):e.TypedDataUtils.eip712Hash(A,y),$=(0,t.ecsign)(v,x);return(0,l.concatSig)((0,t.arrToBufArr)((0,s.bigIntToBytes)($.v)),$.r,$.s)}e.signTypedData=Ue;function Ke({data:x,signature:A,version:y}){if(w(y),(0,l.isNullish)(x))throw new Error("Missing data parameter");if((0,l.isNullish)(A))throw new Error("Missing signature parameter");const v=y===g.V1?Ce(x):e.TypedDataUtils.eip712Hash(x,y),$=(0,l.recoverPublicKey)(v,A),le=(0,t.publicToAddress)($);return(0,s.bytesToHex)(le)}e.recoverTypedSignature=Ke})(zn);var rr={},rf={exports:{}};(function(e){(function(t){var f=function(n){var o,i=new Float64Array(16);if(n)for(o=0;o<n.length;o++)i[o]=n[o];return i},c=function(){throw new Error("no PRNG")},u=new Uint8Array(16),s=new Uint8Array(32);s[0]=9;var h=f(),l=f([1]),g=f([56129,1]),w=f([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),L=f([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),S=f([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),R=f([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),N=f([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function X(n,o,i,r){n[o]=i>>24&255,n[o+1]=i>>16&255,n[o+2]=i>>8&255,n[o+3]=i&255,n[o+4]=r>>24&255,n[o+5]=r>>16&255,n[o+6]=r>>8&255,n[o+7]=r&255}function J(n,o,i,r,a){var b,p=0;for(b=0;b<a;b++)p|=n[o+b]^i[r+b];return(1&p-1>>>8)-1}function V(n,o,i,r){return J(n,o,i,r,16)}function q(n,o,i,r){return J(n,o,i,r,32)}function ne(n,o,i,r){for(var a=r[0]&255|(r[1]&255)<<8|(r[2]&255)<<16|(r[3]&255)<<24,b=i[0]&255|(i[1]&255)<<8|(i[2]&255)<<16|(i[3]&255)<<24,p=i[4]&255|(i[5]&255)<<8|(i[6]&255)<<16|(i[7]&255)<<24,I=i[8]&255|(i[9]&255)<<8|(i[10]&255)<<16|(i[11]&255)<<24,C=i[12]&255|(i[13]&255)<<8|(i[14]&255)<<16|(i[15]&255)<<24,W=r[4]&255|(r[5]&255)<<8|(r[6]&255)<<16|(r[7]&255)<<24,D=o[0]&255|(o[1]&255)<<8|(o[2]&255)<<16|(o[3]&255)<<24,Ae=o[4]&255|(o[5]&255)<<8|(o[6]&255)<<16|(o[7]&255)<<24,z=o[8]&255|(o[9]&255)<<8|(o[10]&255)<<16|(o[11]&255)<<24,te=o[12]&255|(o[13]&255)<<8|(o[14]&255)<<16|(o[15]&255)<<24,fe=r[8]&255|(r[9]&255)<<8|(r[10]&255)<<16|(r[11]&255)<<24,ce=i[16]&255|(i[17]&255)<<8|(i[18]&255)<<16|(i[19]&255)<<24,se=i[20]&255|(i[21]&255)<<8|(i[22]&255)<<16|(i[23]&255)<<24,ie=i[24]&255|(i[25]&255)<<8|(i[26]&255)<<16|(i[27]&255)<<24,ae=i[28]&255|(i[29]&255)<<8|(i[30]&255)<<16|(i[31]&255)<<24,oe=r[12]&255|(r[13]&255)<<8|(r[14]&255)<<16|(r[15]&255)<<24,F=a,Z=b,K=p,Y=I,k=C,H=W,B=D,_=Ae,M=z,P=te,O=fe,U=ce,Q=se,ue=ie,ge=ae,de=oe,d,pe=0;pe<20;pe+=2)d=F+Q|0,k^=d<<7|d>>>25,d=k+F|0,M^=d<<9|d>>>23,d=M+k|0,Q^=d<<13|d>>>19,d=Q+M|0,F^=d<<18|d>>>14,d=H+Z|0,P^=d<<7|d>>>25,d=P+H|0,ue^=d<<9|d>>>23,d=ue+P|0,Z^=d<<13|d>>>19,d=Z+ue|0,H^=d<<18|d>>>14,d=O+B|0,ge^=d<<7|d>>>25,d=ge+O|0,K^=d<<9|d>>>23,d=K+ge|0,B^=d<<13|d>>>19,d=B+K|0,O^=d<<18|d>>>14,d=de+U|0,Y^=d<<7|d>>>25,d=Y+de|0,_^=d<<9|d>>>23,d=_+Y|0,U^=d<<13|d>>>19,d=U+_|0,de^=d<<18|d>>>14,d=F+Y|0,Z^=d<<7|d>>>25,d=Z+F|0,K^=d<<9|d>>>23,d=K+Z|0,Y^=d<<13|d>>>19,d=Y+K|0,F^=d<<18|d>>>14,d=H+k|0,B^=d<<7|d>>>25,d=B+H|0,_^=d<<9|d>>>23,d=_+B|0,k^=d<<13|d>>>19,d=k+_|0,H^=d<<18|d>>>14,d=O+P|0,U^=d<<7|d>>>25,d=U+O|0,M^=d<<9|d>>>23,d=M+U|0,P^=d<<13|d>>>19,d=P+M|0,O^=d<<18|d>>>14,d=de+ge|0,Q^=d<<7|d>>>25,d=Q+de|0,ue^=d<<9|d>>>23,d=ue+Q|0,ge^=d<<13|d>>>19,d=ge+ue|0,de^=d<<18|d>>>14;F=F+a|0,Z=Z+b|0,K=K+p|0,Y=Y+I|0,k=k+C|0,H=H+W|0,B=B+D|0,_=_+Ae|0,M=M+z|0,P=P+te|0,O=O+fe|0,U=U+ce|0,Q=Q+se|0,ue=ue+ie|0,ge=ge+ae|0,de=de+oe|0,n[0]=F>>>0&255,n[1]=F>>>8&255,n[2]=F>>>16&255,n[3]=F>>>24&255,n[4]=Z>>>0&255,n[5]=Z>>>8&255,n[6]=Z>>>16&255,n[7]=Z>>>24&255,n[8]=K>>>0&255,n[9]=K>>>8&255,n[10]=K>>>16&255,n[11]=K>>>24&255,n[12]=Y>>>0&255,n[13]=Y>>>8&255,n[14]=Y>>>16&255,n[15]=Y>>>24&255,n[16]=k>>>0&255,n[17]=k>>>8&255,n[18]=k>>>16&255,n[19]=k>>>24&255,n[20]=H>>>0&255,n[21]=H>>>8&255,n[22]=H>>>16&255,n[23]=H>>>24&255,n[24]=B>>>0&255,n[25]=B>>>8&255,n[26]=B>>>16&255,n[27]=B>>>24&255,n[28]=_>>>0&255,n[29]=_>>>8&255,n[30]=_>>>16&255,n[31]=_>>>24&255,n[32]=M>>>0&255,n[33]=M>>>8&255,n[34]=M>>>16&255,n[35]=M>>>24&255,n[36]=P>>>0&255,n[37]=P>>>8&255,n[38]=P>>>16&255,n[39]=P>>>24&255,n[40]=O>>>0&255,n[41]=O>>>8&255,n[42]=O>>>16&255,n[43]=O>>>24&255,n[44]=U>>>0&255,n[45]=U>>>8&255,n[46]=U>>>16&255,n[47]=U>>>24&255,n[48]=Q>>>0&255,n[49]=Q>>>8&255,n[50]=Q>>>16&255,n[51]=Q>>>24&255,n[52]=ue>>>0&255,n[53]=ue>>>8&255,n[54]=ue>>>16&255,n[55]=ue>>>24&255,n[56]=ge>>>0&255,n[57]=ge>>>8&255,n[58]=ge>>>16&255,n[59]=ge>>>24&255,n[60]=de>>>0&255,n[61]=de>>>8&255,n[62]=de>>>16&255,n[63]=de>>>24&255}function G(n,o,i,r){for(var a=r[0]&255|(r[1]&255)<<8|(r[2]&255)<<16|(r[3]&255)<<24,b=i[0]&255|(i[1]&255)<<8|(i[2]&255)<<16|(i[3]&255)<<24,p=i[4]&255|(i[5]&255)<<8|(i[6]&255)<<16|(i[7]&255)<<24,I=i[8]&255|(i[9]&255)<<8|(i[10]&255)<<16|(i[11]&255)<<24,C=i[12]&255|(i[13]&255)<<8|(i[14]&255)<<16|(i[15]&255)<<24,W=r[4]&255|(r[5]&255)<<8|(r[6]&255)<<16|(r[7]&255)<<24,D=o[0]&255|(o[1]&255)<<8|(o[2]&255)<<16|(o[3]&255)<<24,Ae=o[4]&255|(o[5]&255)<<8|(o[6]&255)<<16|(o[7]&255)<<24,z=o[8]&255|(o[9]&255)<<8|(o[10]&255)<<16|(o[11]&255)<<24,te=o[12]&255|(o[13]&255)<<8|(o[14]&255)<<16|(o[15]&255)<<24,fe=r[8]&255|(r[9]&255)<<8|(r[10]&255)<<16|(r[11]&255)<<24,ce=i[16]&255|(i[17]&255)<<8|(i[18]&255)<<16|(i[19]&255)<<24,se=i[20]&255|(i[21]&255)<<8|(i[22]&255)<<16|(i[23]&255)<<24,ie=i[24]&255|(i[25]&255)<<8|(i[26]&255)<<16|(i[27]&255)<<24,ae=i[28]&255|(i[29]&255)<<8|(i[30]&255)<<16|(i[31]&255)<<24,oe=r[12]&255|(r[13]&255)<<8|(r[14]&255)<<16|(r[15]&255)<<24,F=a,Z=b,K=p,Y=I,k=C,H=W,B=D,_=Ae,M=z,P=te,O=fe,U=ce,Q=se,ue=ie,ge=ae,de=oe,d,pe=0;pe<20;pe+=2)d=F+Q|0,k^=d<<7|d>>>25,d=k+F|0,M^=d<<9|d>>>23,d=M+k|0,Q^=d<<13|d>>>19,d=Q+M|0,F^=d<<18|d>>>14,d=H+Z|0,P^=d<<7|d>>>25,d=P+H|0,ue^=d<<9|d>>>23,d=ue+P|0,Z^=d<<13|d>>>19,d=Z+ue|0,H^=d<<18|d>>>14,d=O+B|0,ge^=d<<7|d>>>25,d=ge+O|0,K^=d<<9|d>>>23,d=K+ge|0,B^=d<<13|d>>>19,d=B+K|0,O^=d<<18|d>>>14,d=de+U|0,Y^=d<<7|d>>>25,d=Y+de|0,_^=d<<9|d>>>23,d=_+Y|0,U^=d<<13|d>>>19,d=U+_|0,de^=d<<18|d>>>14,d=F+Y|0,Z^=d<<7|d>>>25,d=Z+F|0,K^=d<<9|d>>>23,d=K+Z|0,Y^=d<<13|d>>>19,d=Y+K|0,F^=d<<18|d>>>14,d=H+k|0,B^=d<<7|d>>>25,d=B+H|0,_^=d<<9|d>>>23,d=_+B|0,k^=d<<13|d>>>19,d=k+_|0,H^=d<<18|d>>>14,d=O+P|0,U^=d<<7|d>>>25,d=U+O|0,M^=d<<9|d>>>23,d=M+U|0,P^=d<<13|d>>>19,d=P+M|0,O^=d<<18|d>>>14,d=de+ge|0,Q^=d<<7|d>>>25,d=Q+de|0,ue^=d<<9|d>>>23,d=ue+Q|0,ge^=d<<13|d>>>19,d=ge+ue|0,de^=d<<18|d>>>14;n[0]=F>>>0&255,n[1]=F>>>8&255,n[2]=F>>>16&255,n[3]=F>>>24&255,n[4]=H>>>0&255,n[5]=H>>>8&255,n[6]=H>>>16&255,n[7]=H>>>24&255,n[8]=O>>>0&255,n[9]=O>>>8&255,n[10]=O>>>16&255,n[11]=O>>>24&255,n[12]=de>>>0&255,n[13]=de>>>8&255,n[14]=de>>>16&255,n[15]=de>>>24&255,n[16]=B>>>0&255,n[17]=B>>>8&255,n[18]=B>>>16&255,n[19]=B>>>24&255,n[20]=_>>>0&255,n[21]=_>>>8&255,n[22]=_>>>16&255,n[23]=_>>>24&255,n[24]=M>>>0&255,n[25]=M>>>8&255,n[26]=M>>>16&255,n[27]=M>>>24&255,n[28]=P>>>0&255,n[29]=P>>>8&255,n[30]=P>>>16&255,n[31]=P>>>24&255}function ee(n,o,i,r){ne(n,o,i,r)}function we(n,o,i,r){G(n,o,i,r)}var Se=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function Ye(n,o,i,r,a,b,p){var I=new Uint8Array(16),C=new Uint8Array(64),W,D;for(D=0;D<16;D++)I[D]=0;for(D=0;D<8;D++)I[D]=b[D];for(;a>=64;){for(ee(C,I,p,Se),D=0;D<64;D++)n[o+D]=i[r+D]^C[D];for(W=1,D=8;D<16;D++)W=W+(I[D]&255)|0,I[D]=W&255,W>>>=8;a-=64,o+=64,r+=64}if(a>0)for(ee(C,I,p,Se),D=0;D<a;D++)n[o+D]=i[r+D]^C[D];return 0}function Le(n,o,i,r,a){var b=new Uint8Array(16),p=new Uint8Array(64),I,C;for(C=0;C<16;C++)b[C]=0;for(C=0;C<8;C++)b[C]=r[C];for(;i>=64;){for(ee(p,b,a,Se),C=0;C<64;C++)n[o+C]=p[C];for(I=1,C=8;C<16;C++)I=I+(b[C]&255)|0,b[C]=I&255,I>>>=8;i-=64,o+=64}if(i>0)for(ee(p,b,a,Se),C=0;C<i;C++)n[o+C]=p[C];return 0}function Ce(n,o,i,r,a){var b=new Uint8Array(32);we(b,r,a,Se);for(var p=new Uint8Array(8),I=0;I<8;I++)p[I]=r[I+16];return Le(n,o,i,p,b)}function Ue(n,o,i,r,a,b,p){var I=new Uint8Array(32);we(I,b,p,Se);for(var C=new Uint8Array(8),W=0;W<8;W++)C[W]=b[W+16];return Ye(n,o,i,r,a,C,I)}var Ke=function(n){this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0;var o,i,r,a,b,p,I,C;o=n[0]&255|(n[1]&255)<<8,this.r[0]=o&8191,i=n[2]&255|(n[3]&255)<<8,this.r[1]=(o>>>13|i<<3)&8191,r=n[4]&255|(n[5]&255)<<8,this.r[2]=(i>>>10|r<<6)&7939,a=n[6]&255|(n[7]&255)<<8,this.r[3]=(r>>>7|a<<9)&8191,b=n[8]&255|(n[9]&255)<<8,this.r[4]=(a>>>4|b<<12)&255,this.r[5]=b>>>1&8190,p=n[10]&255|(n[11]&255)<<8,this.r[6]=(b>>>14|p<<2)&8191,I=n[12]&255|(n[13]&255)<<8,this.r[7]=(p>>>11|I<<5)&8065,C=n[14]&255|(n[15]&255)<<8,this.r[8]=(I>>>8|C<<8)&8191,this.r[9]=C>>>5&127,this.pad[0]=n[16]&255|(n[17]&255)<<8,this.pad[1]=n[18]&255|(n[19]&255)<<8,this.pad[2]=n[20]&255|(n[21]&255)<<8,this.pad[3]=n[22]&255|(n[23]&255)<<8,this.pad[4]=n[24]&255|(n[25]&255)<<8,this.pad[5]=n[26]&255|(n[27]&255)<<8,this.pad[6]=n[28]&255|(n[29]&255)<<8,this.pad[7]=n[30]&255|(n[31]&255)<<8};Ke.prototype.blocks=function(n,o,i){for(var r=this.fin?0:2048,a,b,p,I,C,W,D,Ae,z,te,fe,ce,se,ie,ae,oe,F,Z,K,Y=this.h[0],k=this.h[1],H=this.h[2],B=this.h[3],_=this.h[4],M=this.h[5],P=this.h[6],O=this.h[7],U=this.h[8],Q=this.h[9],ue=this.r[0],ge=this.r[1],de=this.r[2],d=this.r[3],pe=this.r[4],Ee=this.r[5],Te=this.r[6],be=this.r[7],ve=this.r[8],Be=this.r[9];i>=16;)a=n[o+0]&255|(n[o+1]&255)<<8,Y+=a&8191,b=n[o+2]&255|(n[o+3]&255)<<8,k+=(a>>>13|b<<3)&8191,p=n[o+4]&255|(n[o+5]&255)<<8,H+=(b>>>10|p<<6)&8191,I=n[o+6]&255|(n[o+7]&255)<<8,B+=(p>>>7|I<<9)&8191,C=n[o+8]&255|(n[o+9]&255)<<8,_+=(I>>>4|C<<12)&8191,M+=C>>>1&8191,W=n[o+10]&255|(n[o+11]&255)<<8,P+=(C>>>14|W<<2)&8191,D=n[o+12]&255|(n[o+13]&255)<<8,O+=(W>>>11|D<<5)&8191,Ae=n[o+14]&255|(n[o+15]&255)<<8,U+=(D>>>8|Ae<<8)&8191,Q+=Ae>>>5|r,z=0,te=z,te+=Y*ue,te+=k*(5*Be),te+=H*(5*ve),te+=B*(5*be),te+=_*(5*Te),z=te>>>13,te&=8191,te+=M*(5*Ee),te+=P*(5*pe),te+=O*(5*d),te+=U*(5*de),te+=Q*(5*ge),z+=te>>>13,te&=8191,fe=z,fe+=Y*ge,fe+=k*ue,fe+=H*(5*Be),fe+=B*(5*ve),fe+=_*(5*be),z=fe>>>13,fe&=8191,fe+=M*(5*Te),fe+=P*(5*Ee),fe+=O*(5*pe),fe+=U*(5*d),fe+=Q*(5*de),z+=fe>>>13,fe&=8191,ce=z,ce+=Y*de,ce+=k*ge,ce+=H*ue,ce+=B*(5*Be),ce+=_*(5*ve),z=ce>>>13,ce&=8191,ce+=M*(5*be),ce+=P*(5*Te),ce+=O*(5*Ee),ce+=U*(5*pe),ce+=Q*(5*d),z+=ce>>>13,ce&=8191,se=z,se+=Y*d,se+=k*de,se+=H*ge,se+=B*ue,se+=_*(5*Be),z=se>>>13,se&=8191,se+=M*(5*ve),se+=P*(5*be),se+=O*(5*Te),se+=U*(5*Ee),se+=Q*(5*pe),z+=se>>>13,se&=8191,ie=z,ie+=Y*pe,ie+=k*d,ie+=H*de,ie+=B*ge,ie+=_*ue,z=ie>>>13,ie&=8191,ie+=M*(5*Be),ie+=P*(5*ve),ie+=O*(5*be),ie+=U*(5*Te),ie+=Q*(5*Ee),z+=ie>>>13,ie&=8191,ae=z,ae+=Y*Ee,ae+=k*pe,ae+=H*d,ae+=B*de,ae+=_*ge,z=ae>>>13,ae&=8191,ae+=M*ue,ae+=P*(5*Be),ae+=O*(5*ve),ae+=U*(5*be),ae+=Q*(5*Te),z+=ae>>>13,ae&=8191,oe=z,oe+=Y*Te,oe+=k*Ee,oe+=H*pe,oe+=B*d,oe+=_*de,z=oe>>>13,oe&=8191,oe+=M*ge,oe+=P*ue,oe+=O*(5*Be),oe+=U*(5*ve),oe+=Q*(5*be),z+=oe>>>13,oe&=8191,F=z,F+=Y*be,F+=k*Te,F+=H*Ee,F+=B*pe,F+=_*d,z=F>>>13,F&=8191,F+=M*de,F+=P*ge,F+=O*ue,F+=U*(5*Be),F+=Q*(5*ve),z+=F>>>13,F&=8191,Z=z,Z+=Y*ve,Z+=k*be,Z+=H*Te,Z+=B*Ee,Z+=_*pe,z=Z>>>13,Z&=8191,Z+=M*d,Z+=P*de,Z+=O*ge,Z+=U*ue,Z+=Q*(5*Be),z+=Z>>>13,Z&=8191,K=z,K+=Y*Be,K+=k*ve,K+=H*be,K+=B*Te,K+=_*Ee,z=K>>>13,K&=8191,K+=M*pe,K+=P*d,K+=O*de,K+=U*ge,K+=Q*ue,z+=K>>>13,K&=8191,z=(z<<2)+z|0,z=z+te|0,te=z&8191,z=z>>>13,fe+=z,Y=te,k=fe,H=ce,B=se,_=ie,M=ae,P=oe,O=F,U=Z,Q=K,o+=16,i-=16;this.h[0]=Y,this.h[1]=k,this.h[2]=H,this.h[3]=B,this.h[4]=_,this.h[5]=M,this.h[6]=P,this.h[7]=O,this.h[8]=U,this.h[9]=Q},Ke.prototype.finish=function(n,o){var i=new Uint16Array(10),r,a,b,p;if(this.leftover){for(p=this.leftover,this.buffer[p++]=1;p<16;p++)this.buffer[p]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(r=this.h[1]>>>13,this.h[1]&=8191,p=2;p<10;p++)this.h[p]+=r,r=this.h[p]>>>13,this.h[p]&=8191;for(this.h[0]+=r*5,r=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=r,r=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=r,i[0]=this.h[0]+5,r=i[0]>>>13,i[0]&=8191,p=1;p<10;p++)i[p]=this.h[p]+r,r=i[p]>>>13,i[p]&=8191;for(i[9]-=8192,a=(r^1)-1,p=0;p<10;p++)i[p]&=a;for(a=~a,p=0;p<10;p++)this.h[p]=this.h[p]&a|i[p];for(this.h[0]=(this.h[0]|this.h[1]<<13)&65535,this.h[1]=(this.h[1]>>>3|this.h[2]<<10)&65535,this.h[2]=(this.h[2]>>>6|this.h[3]<<7)&65535,this.h[3]=(this.h[3]>>>9|this.h[4]<<4)&65535,this.h[4]=(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14)&65535,this.h[5]=(this.h[6]>>>2|this.h[7]<<11)&65535,this.h[6]=(this.h[7]>>>5|this.h[8]<<8)&65535,this.h[7]=(this.h[8]>>>8|this.h[9]<<5)&65535,b=this.h[0]+this.pad[0],this.h[0]=b&65535,p=1;p<8;p++)b=(this.h[p]+this.pad[p]|0)+(b>>>16)|0,this.h[p]=b&65535;n[o+0]=this.h[0]>>>0&255,n[o+1]=this.h[0]>>>8&255,n[o+2]=this.h[1]>>>0&255,n[o+3]=this.h[1]>>>8&255,n[o+4]=this.h[2]>>>0&255,n[o+5]=this.h[2]>>>8&255,n[o+6]=this.h[3]>>>0&255,n[o+7]=this.h[3]>>>8&255,n[o+8]=this.h[4]>>>0&255,n[o+9]=this.h[4]>>>8&255,n[o+10]=this.h[5]>>>0&255,n[o+11]=this.h[5]>>>8&255,n[o+12]=this.h[6]>>>0&255,n[o+13]=this.h[6]>>>8&255,n[o+14]=this.h[7]>>>0&255,n[o+15]=this.h[7]>>>8&255},Ke.prototype.update=function(n,o,i){var r,a;if(this.leftover){for(a=16-this.leftover,a>i&&(a=i),r=0;r<a;r++)this.buffer[this.leftover+r]=n[o+r];if(i-=a,o+=a,this.leftover+=a,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(i>=16&&(a=i-i%16,this.blocks(n,o,a),o+=a,i-=a),i){for(r=0;r<i;r++)this.buffer[this.leftover+r]=n[o+r];this.leftover+=i}};function x(n,o,i,r,a,b){var p=new Ke(b);return p.update(i,r,a),p.finish(n,o),0}function A(n,o,i,r,a,b){var p=new Uint8Array(16);return x(p,0,i,r,a,b),V(n,o,p,0)}function y(n,o,i,r,a){var b;if(i<32)return-1;for(Ue(n,0,o,0,i,r,a),x(n,16,n,32,i-32,n),b=0;b<16;b++)n[b]=0;return 0}function v(n,o,i,r,a){var b,p=new Uint8Array(32);if(i<32||(Ce(p,0,32,r,a),A(o,16,o,32,i-32,p)!==0))return-1;for(Ue(n,0,o,0,i,r,a),b=0;b<32;b++)n[b]=0;return 0}function $(n,o){var i;for(i=0;i<16;i++)n[i]=o[i]|0}function le(n){var o,i,r=1;for(o=0;o<16;o++)i=n[o]+r+65535,r=Math.floor(i/65536),n[o]=i-r*65536;n[0]+=r-1+37*(r-1)}function ye(n,o,i){for(var r,a=~(i-1),b=0;b<16;b++)r=a&(n[b]^o[b]),n[b]^=r,o[b]^=r}function me(n,o){var i,r,a,b=f(),p=f();for(i=0;i<16;i++)p[i]=o[i];for(le(p),le(p),le(p),r=0;r<2;r++){for(b[0]=p[0]-65517,i=1;i<15;i++)b[i]=p[i]-65535-(b[i-1]>>16&1),b[i-1]&=65535;b[15]=p[15]-32767-(b[14]>>16&1),a=b[15]>>16&1,b[14]&=65535,ye(p,b,1-a)}for(i=0;i<16;i++)n[2*i]=p[i]&255,n[2*i+1]=p[i]>>8}function Re(n,o){var i=new Uint8Array(32),r=new Uint8Array(32);return me(i,n),me(r,o),q(i,0,r,0)}function cr(n){var o=new Uint8Array(32);return me(o,n),o[0]&1}function Xe(n,o){var i;for(i=0;i<16;i++)n[i]=o[2*i]+(o[2*i+1]<<8);n[15]&=32767}function m(n,o,i){for(var r=0;r<16;r++)n[r]=o[r]+i[r]}function T(n,o,i){for(var r=0;r<16;r++)n[r]=o[r]-i[r]}function E(n,o,i){var r,a,b=0,p=0,I=0,C=0,W=0,D=0,Ae=0,z=0,te=0,fe=0,ce=0,se=0,ie=0,ae=0,oe=0,F=0,Z=0,K=0,Y=0,k=0,H=0,B=0,_=0,M=0,P=0,O=0,U=0,Q=0,ue=0,ge=0,de=0,d=i[0],pe=i[1],Ee=i[2],Te=i[3],be=i[4],ve=i[5],Be=i[6],Ve=i[7],je=i[8],Ne=i[9],$e=i[10],He=i[11],Fe=i[12],We=i[13],qe=i[14],Ge=i[15];r=o[0],b+=r*d,p+=r*pe,I+=r*Ee,C+=r*Te,W+=r*be,D+=r*ve,Ae+=r*Be,z+=r*Ve,te+=r*je,fe+=r*Ne,ce+=r*$e,se+=r*He,ie+=r*Fe,ae+=r*We,oe+=r*qe,F+=r*Ge,r=o[1],p+=r*d,I+=r*pe,C+=r*Ee,W+=r*Te,D+=r*be,Ae+=r*ve,z+=r*Be,te+=r*Ve,fe+=r*je,ce+=r*Ne,se+=r*$e,ie+=r*He,ae+=r*Fe,oe+=r*We,F+=r*qe,Z+=r*Ge,r=o[2],I+=r*d,C+=r*pe,W+=r*Ee,D+=r*Te,Ae+=r*be,z+=r*ve,te+=r*Be,fe+=r*Ve,ce+=r*je,se+=r*Ne,ie+=r*$e,ae+=r*He,oe+=r*Fe,F+=r*We,Z+=r*qe,K+=r*Ge,r=o[3],C+=r*d,W+=r*pe,D+=r*Ee,Ae+=r*Te,z+=r*be,te+=r*ve,fe+=r*Be,ce+=r*Ve,se+=r*je,ie+=r*Ne,ae+=r*$e,oe+=r*He,F+=r*Fe,Z+=r*We,K+=r*qe,Y+=r*Ge,r=o[4],W+=r*d,D+=r*pe,Ae+=r*Ee,z+=r*Te,te+=r*be,fe+=r*ve,ce+=r*Be,se+=r*Ve,ie+=r*je,ae+=r*Ne,oe+=r*$e,F+=r*He,Z+=r*Fe,K+=r*We,Y+=r*qe,k+=r*Ge,r=o[5],D+=r*d,Ae+=r*pe,z+=r*Ee,te+=r*Te,fe+=r*be,ce+=r*ve,se+=r*Be,ie+=r*Ve,ae+=r*je,oe+=r*Ne,F+=r*$e,Z+=r*He,K+=r*Fe,Y+=r*We,k+=r*qe,H+=r*Ge,r=o[6],Ae+=r*d,z+=r*pe,te+=r*Ee,fe+=r*Te,ce+=r*be,se+=r*ve,ie+=r*Be,ae+=r*Ve,oe+=r*je,F+=r*Ne,Z+=r*$e,K+=r*He,Y+=r*Fe,k+=r*We,H+=r*qe,B+=r*Ge,r=o[7],z+=r*d,te+=r*pe,fe+=r*Ee,ce+=r*Te,se+=r*be,ie+=r*ve,ae+=r*Be,oe+=r*Ve,F+=r*je,Z+=r*Ne,K+=r*$e,Y+=r*He,k+=r*Fe,H+=r*We,B+=r*qe,_+=r*Ge,r=o[8],te+=r*d,fe+=r*pe,ce+=r*Ee,se+=r*Te,ie+=r*be,ae+=r*ve,oe+=r*Be,F+=r*Ve,Z+=r*je,K+=r*Ne,Y+=r*$e,k+=r*He,H+=r*Fe,B+=r*We,_+=r*qe,M+=r*Ge,r=o[9],fe+=r*d,ce+=r*pe,se+=r*Ee,ie+=r*Te,ae+=r*be,oe+=r*ve,F+=r*Be,Z+=r*Ve,K+=r*je,Y+=r*Ne,k+=r*$e,H+=r*He,B+=r*Fe,_+=r*We,M+=r*qe,P+=r*Ge,r=o[10],ce+=r*d,se+=r*pe,ie+=r*Ee,ae+=r*Te,oe+=r*be,F+=r*ve,Z+=r*Be,K+=r*Ve,Y+=r*je,k+=r*Ne,H+=r*$e,B+=r*He,_+=r*Fe,M+=r*We,P+=r*qe,O+=r*Ge,r=o[11],se+=r*d,ie+=r*pe,ae+=r*Ee,oe+=r*Te,F+=r*be,Z+=r*ve,K+=r*Be,Y+=r*Ve,k+=r*je,H+=r*Ne,B+=r*$e,_+=r*He,M+=r*Fe,P+=r*We,O+=r*qe,U+=r*Ge,r=o[12],ie+=r*d,ae+=r*pe,oe+=r*Ee,F+=r*Te,Z+=r*be,K+=r*ve,Y+=r*Be,k+=r*Ve,H+=r*je,B+=r*Ne,_+=r*$e,M+=r*He,P+=r*Fe,O+=r*We,U+=r*qe,Q+=r*Ge,r=o[13],ae+=r*d,oe+=r*pe,F+=r*Ee,Z+=r*Te,K+=r*be,Y+=r*ve,k+=r*Be,H+=r*Ve,B+=r*je,_+=r*Ne,M+=r*$e,P+=r*He,O+=r*Fe,U+=r*We,Q+=r*qe,ue+=r*Ge,r=o[14],oe+=r*d,F+=r*pe,Z+=r*Ee,K+=r*Te,Y+=r*be,k+=r*ve,H+=r*Be,B+=r*Ve,_+=r*je,M+=r*Ne,P+=r*$e,O+=r*He,U+=r*Fe,Q+=r*We,ue+=r*qe,ge+=r*Ge,r=o[15],F+=r*d,Z+=r*pe,K+=r*Ee,Y+=r*Te,k+=r*be,H+=r*ve,B+=r*Be,_+=r*Ve,M+=r*je,P+=r*Ne,O+=r*$e,U+=r*He,Q+=r*Fe,ue+=r*We,ge+=r*qe,de+=r*Ge,b+=38*Z,p+=38*K,I+=38*Y,C+=38*k,W+=38*H,D+=38*B,Ae+=38*_,z+=38*M,te+=38*P,fe+=38*O,ce+=38*U,se+=38*Q,ie+=38*ue,ae+=38*ge,oe+=38*de,a=1,r=b+a+65535,a=Math.floor(r/65536),b=r-a*65536,r=p+a+65535,a=Math.floor(r/65536),p=r-a*65536,r=I+a+65535,a=Math.floor(r/65536),I=r-a*65536,r=C+a+65535,a=Math.floor(r/65536),C=r-a*65536,r=W+a+65535,a=Math.floor(r/65536),W=r-a*65536,r=D+a+65535,a=Math.floor(r/65536),D=r-a*65536,r=Ae+a+65535,a=Math.floor(r/65536),Ae=r-a*65536,r=z+a+65535,a=Math.floor(r/65536),z=r-a*65536,r=te+a+65535,a=Math.floor(r/65536),te=r-a*65536,r=fe+a+65535,a=Math.floor(r/65536),fe=r-a*65536,r=ce+a+65535,a=Math.floor(r/65536),ce=r-a*65536,r=se+a+65535,a=Math.floor(r/65536),se=r-a*65536,r=ie+a+65535,a=Math.floor(r/65536),ie=r-a*65536,r=ae+a+65535,a=Math.floor(r/65536),ae=r-a*65536,r=oe+a+65535,a=Math.floor(r/65536),oe=r-a*65536,r=F+a+65535,a=Math.floor(r/65536),F=r-a*65536,b+=a-1+37*(a-1),a=1,r=b+a+65535,a=Math.floor(r/65536),b=r-a*65536,r=p+a+65535,a=Math.floor(r/65536),p=r-a*65536,r=I+a+65535,a=Math.floor(r/65536),I=r-a*65536,r=C+a+65535,a=Math.floor(r/65536),C=r-a*65536,r=W+a+65535,a=Math.floor(r/65536),W=r-a*65536,r=D+a+65535,a=Math.floor(r/65536),D=r-a*65536,r=Ae+a+65535,a=Math.floor(r/65536),Ae=r-a*65536,r=z+a+65535,a=Math.floor(r/65536),z=r-a*65536,r=te+a+65535,a=Math.floor(r/65536),te=r-a*65536,r=fe+a+65535,a=Math.floor(r/65536),fe=r-a*65536,r=ce+a+65535,a=Math.floor(r/65536),ce=r-a*65536,r=se+a+65535,a=Math.floor(r/65536),se=r-a*65536,r=ie+a+65535,a=Math.floor(r/65536),ie=r-a*65536,r=ae+a+65535,a=Math.floor(r/65536),ae=r-a*65536,r=oe+a+65535,a=Math.floor(r/65536),oe=r-a*65536,r=F+a+65535,a=Math.floor(r/65536),F=r-a*65536,b+=a-1+37*(a-1),n[0]=b,n[1]=p,n[2]=I,n[3]=C,n[4]=W,n[5]=D,n[6]=Ae,n[7]=z,n[8]=te,n[9]=fe,n[10]=ce,n[11]=se,n[12]=ie,n[13]=ae,n[14]=oe,n[15]=F}function re(n,o){E(n,o,o)}function _e(n,o){var i=f(),r;for(r=0;r<16;r++)i[r]=o[r];for(r=253;r>=0;r--)re(i,i),r!==2&&r!==4&&E(i,i,o);for(r=0;r<16;r++)n[r]=i[r]}function Pe(n,o){var i=f(),r;for(r=0;r<16;r++)i[r]=o[r];for(r=250;r>=0;r--)re(i,i),r!==1&&E(i,i,o);for(r=0;r<16;r++)n[r]=i[r]}function he(n,o,i){var r=new Uint8Array(32),a=new Float64Array(80),b,p,I=f(),C=f(),W=f(),D=f(),Ae=f(),z=f();for(p=0;p<31;p++)r[p]=o[p];for(r[31]=o[31]&127|64,r[0]&=248,Xe(a,i),p=0;p<16;p++)C[p]=a[p],D[p]=I[p]=W[p]=0;for(I[0]=D[0]=1,p=254;p>=0;--p)b=r[p>>>3]>>>(p&7)&1,ye(I,C,b),ye(W,D,b),m(Ae,I,W),T(I,I,W),m(W,C,D),T(C,C,D),re(D,Ae),re(z,I),E(I,W,I),E(W,C,Ae),m(Ae,I,W),T(I,I,W),re(C,I),T(W,D,z),E(I,W,g),m(I,I,D),E(W,W,I),E(I,D,z),E(D,C,a),re(C,Ae),ye(I,C,b),ye(W,D,b);for(p=0;p<16;p++)a[p+16]=I[p],a[p+32]=W[p],a[p+48]=C[p],a[p+64]=D[p];var te=a.subarray(32),fe=a.subarray(16);return _e(te,te),E(fe,fe,te),me(n,fe),0}function xe(n,o){return he(n,o,s)}function Ie(n,o){return c(o,32),xe(n,o)}function ze(n,o,i){var r=new Uint8Array(32);return he(r,i,o),we(n,u,r,Se)}var fr=y,vr=v;function yr(n,o,i,r,a,b){var p=new Uint8Array(32);return ze(p,a,b),fr(n,o,i,r,p)}function Br(n,o,i,r,a,b){var p=new Uint8Array(32);return ze(p,a,b),vr(n,o,i,r,p)}var Dr=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Vr(n,o,i,r){for(var a=new Int32Array(16),b=new Int32Array(16),p,I,C,W,D,Ae,z,te,fe,ce,se,ie,ae,oe,F,Z,K,Y,k,H,B,_,M,P,O,U,Q=n[0],ue=n[1],ge=n[2],de=n[3],d=n[4],pe=n[5],Ee=n[6],Te=n[7],be=o[0],ve=o[1],Be=o[2],Ve=o[3],je=o[4],Ne=o[5],$e=o[6],He=o[7],Fe=0;r>=128;){for(k=0;k<16;k++)H=8*k+Fe,a[k]=i[H+0]<<24|i[H+1]<<16|i[H+2]<<8|i[H+3],b[k]=i[H+4]<<24|i[H+5]<<16|i[H+6]<<8|i[H+7];for(k=0;k<80;k++)if(p=Q,I=ue,C=ge,W=de,D=d,Ae=pe,z=Ee,te=Te,fe=be,ce=ve,se=Be,ie=Ve,ae=je,oe=Ne,F=$e,Z=He,B=Te,_=He,M=_&65535,P=_>>>16,O=B&65535,U=B>>>16,B=(d>>>14|je<<18)^(d>>>18|je<<14)^(je>>>9|d<<23),_=(je>>>14|d<<18)^(je>>>18|d<<14)^(d>>>9|je<<23),M+=_&65535,P+=_>>>16,O+=B&65535,U+=B>>>16,B=d&pe^~d&Ee,_=je&Ne^~je&$e,M+=_&65535,P+=_>>>16,O+=B&65535,U+=B>>>16,B=Dr[k*2],_=Dr[k*2+1],M+=_&65535,P+=_>>>16,O+=B&65535,U+=B>>>16,B=a[k%16],_=b[k%16],M+=_&65535,P+=_>>>16,O+=B&65535,U+=B>>>16,P+=M>>>16,O+=P>>>16,U+=O>>>16,K=O&65535|U<<16,Y=M&65535|P<<16,B=K,_=Y,M=_&65535,P=_>>>16,O=B&65535,U=B>>>16,B=(Q>>>28|be<<4)^(be>>>2|Q<<30)^(be>>>7|Q<<25),_=(be>>>28|Q<<4)^(Q>>>2|be<<30)^(Q>>>7|be<<25),M+=_&65535,P+=_>>>16,O+=B&65535,U+=B>>>16,B=Q&ue^Q&ge^ue&ge,_=be&ve^be&Be^ve&Be,M+=_&65535,P+=_>>>16,O+=B&65535,U+=B>>>16,P+=M>>>16,O+=P>>>16,U+=O>>>16,te=O&65535|U<<16,Z=M&65535|P<<16,B=W,_=ie,M=_&65535,P=_>>>16,O=B&65535,U=B>>>16,B=K,_=Y,M+=_&65535,P+=_>>>16,O+=B&65535,U+=B>>>16,P+=M>>>16,O+=P>>>16,U+=O>>>16,W=O&65535|U<<16,ie=M&65535|P<<16,ue=p,ge=I,de=C,d=W,pe=D,Ee=Ae,Te=z,Q=te,ve=fe,Be=ce,Ve=se,je=ie,Ne=ae,$e=oe,He=F,be=Z,k%16===15)for(H=0;H<16;H++)B=a[H],_=b[H],M=_&65535,P=_>>>16,O=B&65535,U=B>>>16,B=a[(H+9)%16],_=b[(H+9)%16],M+=_&65535,P+=_>>>16,O+=B&65535,U+=B>>>16,K=a[(H+1)%16],Y=b[(H+1)%16],B=(K>>>1|Y<<31)^(K>>>8|Y<<24)^K>>>7,_=(Y>>>1|K<<31)^(Y>>>8|K<<24)^(Y>>>7|K<<25),M+=_&65535,P+=_>>>16,O+=B&65535,U+=B>>>16,K=a[(H+14)%16],Y=b[(H+14)%16],B=(K>>>19|Y<<13)^(Y>>>29|K<<3)^K>>>6,_=(Y>>>19|K<<13)^(K>>>29|Y<<3)^(Y>>>6|K<<26),M+=_&65535,P+=_>>>16,O+=B&65535,U+=B>>>16,P+=M>>>16,O+=P>>>16,U+=O>>>16,a[H]=O&65535|U<<16,b[H]=M&65535|P<<16;B=Q,_=be,M=_&65535,P=_>>>16,O=B&65535,U=B>>>16,B=n[0],_=o[0],M+=_&65535,P+=_>>>16,O+=B&65535,U+=B>>>16,P+=M>>>16,O+=P>>>16,U+=O>>>16,n[0]=Q=O&65535|U<<16,o[0]=be=M&65535|P<<16,B=ue,_=ve,M=_&65535,P=_>>>16,O=B&65535,U=B>>>16,B=n[1],_=o[1],M+=_&65535,P+=_>>>16,O+=B&65535,U+=B>>>16,P+=M>>>16,O+=P>>>16,U+=O>>>16,n[1]=ue=O&65535|U<<16,o[1]=ve=M&65535|P<<16,B=ge,_=Be,M=_&65535,P=_>>>16,O=B&65535,U=B>>>16,B=n[2],_=o[2],M+=_&65535,P+=_>>>16,O+=B&65535,U+=B>>>16,P+=M>>>16,O+=P>>>16,U+=O>>>16,n[2]=ge=O&65535|U<<16,o[2]=Be=M&65535|P<<16,B=de,_=Ve,M=_&65535,P=_>>>16,O=B&65535,U=B>>>16,B=n[3],_=o[3],M+=_&65535,P+=_>>>16,O+=B&65535,U+=B>>>16,P+=M>>>16,O+=P>>>16,U+=O>>>16,n[3]=de=O&65535|U<<16,o[3]=Ve=M&65535|P<<16,B=d,_=je,M=_&65535,P=_>>>16,O=B&65535,U=B>>>16,B=n[4],_=o[4],M+=_&65535,P+=_>>>16,O+=B&65535,U+=B>>>16,P+=M>>>16,O+=P>>>16,U+=O>>>16,n[4]=d=O&65535|U<<16,o[4]=je=M&65535|P<<16,B=pe,_=Ne,M=_&65535,P=_>>>16,O=B&65535,U=B>>>16,B=n[5],_=o[5],M+=_&65535,P+=_>>>16,O+=B&65535,U+=B>>>16,P+=M>>>16,O+=P>>>16,U+=O>>>16,n[5]=pe=O&65535|U<<16,o[5]=Ne=M&65535|P<<16,B=Ee,_=$e,M=_&65535,P=_>>>16,O=B&65535,U=B>>>16,B=n[6],_=o[6],M+=_&65535,P+=_>>>16,O+=B&65535,U+=B>>>16,P+=M>>>16,O+=P>>>16,U+=O>>>16,n[6]=Ee=O&65535|U<<16,o[6]=$e=M&65535|P<<16,B=Te,_=He,M=_&65535,P=_>>>16,O=B&65535,U=B>>>16,B=n[7],_=o[7],M+=_&65535,P+=_>>>16,O+=B&65535,U+=B>>>16,P+=M>>>16,O+=P>>>16,U+=O>>>16,n[7]=Te=O&65535|U<<16,o[7]=He=M&65535|P<<16,Fe+=128,r-=128}return r}function j(n,o,i){var r=new Int32Array(8),a=new Int32Array(8),b=new Uint8Array(256),p,I=i;for(r[0]=1779033703,r[1]=3144134277,r[2]=1013904242,r[3]=2773480762,r[4]=1359893119,r[5]=2600822924,r[6]=528734635,r[7]=1541459225,a[0]=4089235720,a[1]=2227873595,a[2]=4271175723,a[3]=1595750129,a[4]=2917565137,a[5]=725511199,a[6]=4215389547,a[7]=327033209,Vr(r,a,o,i),i%=128,p=0;p<i;p++)b[p]=o[I-i+p];for(b[i]=128,i=256-128*(i<112?1:0),b[i-9]=0,X(b,i-8,I/536870912|0,I<<3),Vr(r,a,b,i),p=0;p<8;p++)X(n,8*p,r[p],a[p]);return 0}function _r(n,o){var i=f(),r=f(),a=f(),b=f(),p=f(),I=f(),C=f(),W=f(),D=f();T(i,n[1],n[0]),T(D,o[1],o[0]),E(i,i,D),m(r,n[0],n[1]),m(D,o[0],o[1]),E(r,r,D),E(a,n[3],o[3]),E(a,a,L),E(b,n[2],o[2]),m(b,b,b),T(p,r,i),T(I,b,a),m(C,b,a),m(W,r,i),E(n[0],p,I),E(n[1],W,C),E(n[2],C,I),E(n[3],p,W)}function ot(n,o,i){var r;for(r=0;r<4;r++)ye(n[r],o[r],i)}function at(n,o){var i=f(),r=f(),a=f();_e(a,o[2]),E(i,o[0],a),E(r,o[1],a),me(n,r),n[31]^=cr(i)<<7}function st(n,o,i){var r,a;for($(n[0],h),$(n[1],l),$(n[2],l),$(n[3],h),a=255;a>=0;--a)r=i[a/8|0]>>(a&7)&1,ot(n,o,r),_r(o,n),_r(n,n),ot(n,o,r)}function Kr(n,o){var i=[f(),f(),f(),f()];$(i[0],S),$(i[1],R),$(i[2],l),E(i[3],S,R),st(n,i,o)}function ct(n,o,i){var r=new Uint8Array(64),a=[f(),f(),f(),f()],b;for(i||c(o,32),j(r,o,32),r[0]&=248,r[31]&=127,r[31]|=64,Kr(a,r),at(n,a),b=0;b<32;b++)o[b+32]=n[b];return 0}var zr=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function ut(n,o){var i,r,a,b;for(r=63;r>=32;--r){for(i=0,a=r-32,b=r-12;a<b;++a)o[a]+=i-16*o[r]*zr[a-(r-32)],i=Math.floor((o[a]+128)/256),o[a]-=i*256;o[a]+=i,o[r]=0}for(i=0,a=0;a<32;a++)o[a]+=i-(o[31]>>4)*zr[a],i=o[a]>>8,o[a]&=255;for(a=0;a<32;a++)o[a]-=i*zr[a];for(r=0;r<32;r++)o[r+1]+=o[r]>>8,n[r]=o[r]&255}function dt(n){var o=new Float64Array(64),i;for(i=0;i<64;i++)o[i]=n[i];for(i=0;i<64;i++)n[i]=0;ut(n,o)}function Zt(n,o,i,r){var a=new Uint8Array(64),b=new Uint8Array(64),p=new Uint8Array(64),I,C,W=new Float64Array(64),D=[f(),f(),f(),f()];j(a,r,32),a[0]&=248,a[31]&=127,a[31]|=64;var Ae=i+64;for(I=0;I<i;I++)n[64+I]=o[I];for(I=0;I<32;I++)n[32+I]=a[32+I];for(j(p,n.subarray(32),i+32),dt(p),Kr(D,p),at(n,D),I=32;I<64;I++)n[I]=r[I];for(j(b,n,i+64),dt(b),I=0;I<64;I++)W[I]=0;for(I=0;I<32;I++)W[I]=p[I];for(I=0;I<32;I++)for(C=0;C<32;C++)W[I+C]+=b[I]*a[C];return ut(n.subarray(32),W),Ae}function ff(n,o){var i=f(),r=f(),a=f(),b=f(),p=f(),I=f(),C=f();return $(n[2],l),Xe(n[1],o),re(a,n[1]),E(b,a,w),T(a,a,n[2]),m(b,n[2],b),re(p,b),re(I,p),E(C,I,p),E(i,C,a),E(i,i,b),Pe(i,i),E(i,i,a),E(i,i,b),E(i,i,b),E(n[0],i,b),re(r,n[0]),E(r,r,b),Re(r,a)&&E(n[0],n[0],N),re(r,n[0]),E(r,r,b),Re(r,a)?-1:(cr(n[0])===o[31]>>7&&T(n[0],h,n[0]),E(n[3],n[0],n[1]),0)}function lt(n,o,i,r){var a,b=new Uint8Array(32),p=new Uint8Array(64),I=[f(),f(),f(),f()],C=[f(),f(),f(),f()];if(i<64||ff(C,r))return-1;for(a=0;a<i;a++)n[a]=o[a];for(a=0;a<32;a++)n[a+32]=r[a];if(j(p,n,i),dt(p),st(I,C,p),Kr(C,o.subarray(32)),_r(I,C),at(b,I),i-=64,q(o,0,b,0)){for(a=0;a<i;a++)n[a]=0;return-1}for(a=0;a<i;a++)n[a]=o[a+64];return i}var yt=32,Fr=24,Or=32,Ar=16,jr=32,Yr=32,Lr=32,Mr=32,ht=32,Jt=Fr,of=Or,af=Ar,ur=64,pr=32,Er=64,gt=32,bt=64;t.lowlevel={crypto_core_hsalsa20:we,crypto_stream_xor:Ue,crypto_stream:Ce,crypto_stream_salsa20_xor:Ye,crypto_stream_salsa20:Le,crypto_onetimeauth:x,crypto_onetimeauth_verify:A,crypto_verify_16:V,crypto_verify_32:q,crypto_secretbox:y,crypto_secretbox_open:v,crypto_scalarmult:he,crypto_scalarmult_base:xe,crypto_box_beforenm:ze,crypto_box_afternm:fr,crypto_box:yr,crypto_box_open:Br,crypto_box_keypair:Ie,crypto_hash:j,crypto_sign:Zt,crypto_sign_keypair:ct,crypto_sign_open:lt,crypto_secretbox_KEYBYTES:yt,crypto_secretbox_NONCEBYTES:Fr,crypto_secretbox_ZEROBYTES:Or,crypto_secretbox_BOXZEROBYTES:Ar,crypto_scalarmult_BYTES:jr,crypto_scalarmult_SCALARBYTES:Yr,crypto_box_PUBLICKEYBYTES:Lr,crypto_box_SECRETKEYBYTES:Mr,crypto_box_BEFORENMBYTES:ht,crypto_box_NONCEBYTES:Jt,crypto_box_ZEROBYTES:of,crypto_box_BOXZEROBYTES:af,crypto_sign_BYTES:ur,crypto_sign_PUBLICKEYBYTES:pr,crypto_sign_SECRETKEYBYTES:Er,crypto_sign_SEEDBYTES:gt,crypto_hash_BYTES:bt,gf:f,D:w,L:zr,pack25519:me,unpack25519:Xe,M:E,A:m,S:re,Z:T,pow2523:Pe,add:_r,set25519:$,modL:ut,scalarmult:st,scalarbase:Kr};function Xt(n,o){if(n.length!==yt)throw new Error("bad key size");if(o.length!==Fr)throw new Error("bad nonce size")}function sf(n,o){if(n.length!==Lr)throw new Error("bad public key size");if(o.length!==Mr)throw new Error("bad secret key size")}function er(){for(var n=0;n<arguments.length;n++)if(!(arguments[n]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function Qt(n){for(var o=0;o<n.length;o++)n[o]=0}t.randomBytes=function(n){var o=new Uint8Array(n);return c(o,n),o},t.secretbox=function(n,o,i){er(n,o,i),Xt(i,o);for(var r=new Uint8Array(Or+n.length),a=new Uint8Array(r.length),b=0;b<n.length;b++)r[b+Or]=n[b];return y(a,r,r.length,o,i),a.subarray(Ar)},t.secretbox.open=function(n,o,i){er(n,o,i),Xt(i,o);for(var r=new Uint8Array(Ar+n.length),a=new Uint8Array(r.length),b=0;b<n.length;b++)r[b+Ar]=n[b];return r.length<32||v(a,r,r.length,o,i)!==0?null:a.subarray(Or)},t.secretbox.keyLength=yt,t.secretbox.nonceLength=Fr,t.secretbox.overheadLength=Ar,t.scalarMult=function(n,o){if(er(n,o),n.length!==Yr)throw new Error("bad n size");if(o.length!==jr)throw new Error("bad p size");var i=new Uint8Array(jr);return he(i,n,o),i},t.scalarMult.base=function(n){if(er(n),n.length!==Yr)throw new Error("bad n size");var o=new Uint8Array(jr);return xe(o,n),o},t.scalarMult.scalarLength=Yr,t.scalarMult.groupElementLength=jr,t.box=function(n,o,i,r){var a=t.box.before(i,r);return t.secretbox(n,o,a)},t.box.before=function(n,o){er(n,o),sf(n,o);var i=new Uint8Array(ht);return ze(i,n,o),i},t.box.after=t.secretbox,t.box.open=function(n,o,i,r){var a=t.box.before(i,r);return t.secretbox.open(n,o,a)},t.box.open.after=t.secretbox.open,t.box.keyPair=function(){var n=new Uint8Array(Lr),o=new Uint8Array(Mr);return Ie(n,o),{publicKey:n,secretKey:o}},t.box.keyPair.fromSecretKey=function(n){if(er(n),n.length!==Mr)throw new Error("bad secret key size");var o=new Uint8Array(Lr);return xe(o,n),{publicKey:o,secretKey:new Uint8Array(n)}},t.box.publicKeyLength=Lr,t.box.secretKeyLength=Mr,t.box.sharedKeyLength=ht,t.box.nonceLength=Jt,t.box.overheadLength=t.secretbox.overheadLength,t.sign=function(n,o){if(er(n,o),o.length!==Er)throw new Error("bad secret key size");var i=new Uint8Array(ur+n.length);return Zt(i,n,n.length,o),i},t.sign.open=function(n,o){if(er(n,o),o.length!==pr)throw new Error("bad public key size");var i=new Uint8Array(n.length),r=lt(i,n,n.length,o);if(r<0)return null;for(var a=new Uint8Array(r),b=0;b<a.length;b++)a[b]=i[b];return a},t.sign.detached=function(n,o){for(var i=t.sign(n,o),r=new Uint8Array(ur),a=0;a<r.length;a++)r[a]=i[a];return r},t.sign.detached.verify=function(n,o,i){if(er(n,o,i),o.length!==ur)throw new Error("bad signature size");if(i.length!==pr)throw new Error("bad public key size");var r=new Uint8Array(ur+n.length),a=new Uint8Array(ur+n.length),b;for(b=0;b<ur;b++)r[b]=o[b];for(b=0;b<n.length;b++)r[b+ur]=n[b];return lt(a,r,r.length,i)>=0},t.sign.keyPair=function(){var n=new Uint8Array(pr),o=new Uint8Array(Er);return ct(n,o),{publicKey:n,secretKey:o}},t.sign.keyPair.fromSecretKey=function(n){if(er(n),n.length!==Er)throw new Error("bad secret key size");for(var o=new Uint8Array(pr),i=0;i<o.length;i++)o[i]=n[32+i];return{publicKey:o,secretKey:new Uint8Array(n)}},t.sign.keyPair.fromSeed=function(n){if(er(n),n.length!==gt)throw new Error("bad seed size");for(var o=new Uint8Array(pr),i=new Uint8Array(Er),r=0;r<32;r++)i[r]=n[r];return ct(o,i,!0),{publicKey:o,secretKey:i}},t.sign.publicKeyLength=pr,t.sign.secretKeyLength=Er,t.sign.seedLength=gt,t.sign.signatureLength=ur,t.hash=function(n){er(n);var o=new Uint8Array(bt);return j(o,n,n.length),o},t.hash.hashLength=bt,t.verify=function(n,o){return er(n,o),n.length===0||o.length===0||n.length!==o.length?!1:J(n,0,o,0,n.length)===0},t.setPRNG=function(n){c=n},function(){var n=typeof self<"u"?self.crypto||self.msCrypto:null;if(n&&n.getRandomValues){var o=65536;t.setPRNG(function(i,r){var a,b=new Uint8Array(r);for(a=0;a<r;a+=o)n.getRandomValues(b.subarray(a,a+Math.min(r-a,o)));for(a=0;a<r;a++)i[a]=b[a];Qt(b)})}else typeof xf<"u"&&(n=Cr,n&&n.randomBytes&&t.setPRNG(function(i,r){var a,b=n.randomBytes(r);for(a=0;a<r;a++)i[a]=b[a];Qt(b)}))}()})(e.exports?e.exports:self.nacl=self.nacl||{})})(rf);var Si=rf.exports,Pi=Oe&&Oe.__createBinding||(Object.create?function(e,t,f,c){c===void 0&&(c=f);var u=Object.getOwnPropertyDescriptor(t,f);(!u||("get"in u?!t.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return t[f]}}),Object.defineProperty(e,c,u)}:function(e,t,f,c){c===void 0&&(c=f),e[c]=t[f]}),Ii=Oe&&Oe.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Oi=Oe&&Oe.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var f in e)f!=="default"&&Object.prototype.hasOwnProperty.call(e,f)&&Pi(t,e,f);return Ii(t,e),t};Object.defineProperty(rr,"__esModule",{value:!0});rr.getEncryptionPublicKey=rr.decryptSafely=rr.decrypt=rr.encryptSafely=rr.encrypt=void 0;const ir=wf,xr=Oi(Si),sr=ke;function tf({publicKey:e,data:t,version:f}){if((0,sr.isNullish)(e))throw new Error("Missing publicKey parameter");if((0,sr.isNullish)(t))throw new Error("Missing data parameter");if((0,sr.isNullish)(f))throw new Error("Missing version parameter");switch(f){case"x25519-xsalsa20-poly1305":{if(typeof t!="string")throw new Error("Message data must be given as a string");const c=xr.box.keyPair();let u;try{u=ir.base64.decode(e)}catch{throw new Error("Bad public key")}const s=ir.utf8.decode(t),h=xr.randomBytes(xr.box.nonceLength),l=xr.box(s,h,u,c.secretKey);return{version:"x25519-xsalsa20-poly1305",nonce:ir.base64.encode(h),ephemPublicKey:ir.base64.encode(c.publicKey),ciphertext:ir.base64.encode(l)}}default:throw new Error("Encryption type/version not supported")}}rr.encrypt=tf;function ji({publicKey:e,data:t,version:f}){if((0,sr.isNullish)(e))throw new Error("Missing publicKey parameter");if((0,sr.isNullish)(t))throw new Error("Missing data parameter");if((0,sr.isNullish)(f))throw new Error("Missing version parameter");const c=2**11,u=16;if(typeof t=="object"&&t&&"toJSON"in t)throw new Error("Cannot encrypt with toJSON property.  Please remove toJSON property");const s={data:t,padding:""},l=Buffer.byteLength(JSON.stringify(s),"utf-8")%c;let g=0;l>0&&(g=c-l-u),s.padding="0".repeat(g);const w=JSON.stringify(s);return tf({publicKey:e,data:w,version:f})}rr.encryptSafely=ji;function nf({encryptedData:e,privateKey:t}){if((0,sr.isNullish)(e))throw new Error("Missing encryptedData parameter");if((0,sr.isNullish)(t))throw new Error("Missing privateKey parameter");switch(e.version){case"x25519-xsalsa20-poly1305":{const f=Buffer.from(t,"hex"),c=xr.box.keyPair.fromSecretKey(f).secretKey,u=ir.base64.decode(e.nonce),s=ir.base64.decode(e.ciphertext),h=ir.base64.decode(e.ephemPublicKey),l=xr.box.open(s,u,h,c);try{if(!l)throw new Error;const g=ir.utf8.encode(l);if(!g)throw new Error;return g}catch(g){throw g&&typeof g.message=="string"&&g.message.length?new Error(`Decryption failed: ${g.message}`):new Error("Decryption failed.")}}default:throw new Error("Encryption type/version not supported.")}}rr.decrypt=nf;function Li({encryptedData:e,privateKey:t}){if((0,sr.isNullish)(e))throw new Error("Missing encryptedData parameter");if((0,sr.isNullish)(t))throw new Error("Missing privateKey parameter");return JSON.parse(nf({encryptedData:e,privateKey:t})).data}rr.decryptSafely=Li;function Mi(e){const t=Buffer.from(e,"hex"),f=xr.box.keyPair.fromSecretKey(t).publicKey;return ir.base64.encode(f)}rr.getEncryptionPublicKey=Mi;(function(e){var t=Oe&&Oe.__createBinding||(Object.create?function(u,s,h,l){l===void 0&&(l=h);var g=Object.getOwnPropertyDescriptor(s,h);(!g||("get"in g?!s.__esModule:g.writable||g.configurable))&&(g={enumerable:!0,get:function(){return s[h]}}),Object.defineProperty(u,l,g)}:function(u,s,h,l){l===void 0&&(l=h),u[l]=s[h]}),f=Oe&&Oe.__exportStar||function(u,s){for(var h in u)h!=="default"&&!Object.prototype.hasOwnProperty.call(s,h)&&t(s,u,h)};Object.defineProperty(e,"__esModule",{value:!0}),e.normalize=e.concatSig=void 0,f(hr,e),f(zn,e),f(rr,e);var c=ke;Object.defineProperty(e,"concatSig",{enumerable:!0,get:function(){return c.concatSig}}),Object.defineProperty(e,"normalize",{enumerable:!0,get:function(){return c.normalize}})})(Sn);const Ri=mf({__proto__:null},[Sn]);export{Ri as i};
